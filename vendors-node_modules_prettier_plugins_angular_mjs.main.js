"use strict";
(self["webpackChunkweather_app"] = self["webpackChunkweather_app"] || []).push([["vendors-node_modules_prettier_plugins_angular_mjs"],{

/***/ "./node_modules/prettier/plugins/angular.mjs":
/*!***************************************************!*\
  !*** ./node_modules/prettier/plugins/angular.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fs),
/* harmony export */   parsers: () => (/* binding */ Ie)
/* harmony export */ });
var Kt=Object.defineProperty;var Ze=(s,e)=>{for(var t in e)Kt(s,t,{get:e[t],enumerable:!0})};var ze={};Ze(ze,{parsers:()=>Ie});var Ie={};Ze(Ie,{__ng_action:()=>Ir,__ng_binding:()=>Rr,__ng_directive:()=>Lr,__ng_interpolation:()=>Pr});var me=`
`,Je="\r",Ye=function(){function s(e){this.length=e.length;for(var t=[0],r=0;r<e.length;)switch(e[r]){case me:r+=me.length,t.push(r);break;case Je:r+=Je.length,e[r]===me&&(r+=me.length),t.push(r);break;default:r++;break}this.offsets=t}return s.prototype.locationForIndex=function(e){if(e<0||e>this.length)return null;for(var t=0,r=this.offsets;r[t+1]<=e;)t++;var n=e-r[t];return{line:t,column:n}},s.prototype.indexForLocation=function(e){var t=e.line,r=e.column;return t<0||t>=this.offsets.length||r<0||r>this.lengthOfLine(t)?null:this.offsets[t]+r},s.prototype.lengthOfLine=function(e){var t=this.offsets[e],r=e===this.offsets.length-1?this.length:this.offsets[e+1];return r-t},s}();var le=class{text;locator;constructor(e){this.text=e,this.locator=new Pe(this.text)}},Pe=class{_linesAndColumns;constructor(e){this._linesAndColumns=new Ye(e)}locationForIndex(e){let{line:t,column:r}=this._linesAndColumns.locationForIndex(e);return{line:t+1,column:r,index:e}}};var G=class{constructor(e,t,r,n){this.input=t,this.errLocation=r,this.ctxLocation=n,this.message=`Parser Error: ${e} ${r} [${t}] in ${n}`}},P=class{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new I(e+this.start,e+this.end)}},S=class{constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},D=class extends S{constructor(e,t,r){super(e,t),this.nameSpan=r}},E=class extends S{visit(e,t=null){}},L=class extends S{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Se=class extends L{visit(e,t=null){var r;return(r=e.visitThisReceiver)==null?void 0:r.call(e,this,t)}},V=class extends S{constructor(e,t,r){super(e,t),this.expressions=r}visit(e,t=null){return e.visitChain(this,t)}},W=class extends S{constructor(e,t,r,n,i){super(e,t),this.condition=r,this.trueExp=n,this.falseExp=i}visit(e,t=null){return e.visitConditional(this,t)}},B=class extends D{constructor(e,t,r,n,i){super(e,t,r),this.receiver=n,this.name=i}visit(e,t=null){return e.visitPropertyRead(this,t)}},Q=class extends D{constructor(e,t,r,n,i,a){super(e,t,r),this.receiver=n,this.name=i,this.value=a}visit(e,t=null){return e.visitPropertyWrite(this,t)}},H=class extends D{constructor(e,t,r,n,i){super(e,t,r),this.receiver=n,this.name=i}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},j=class extends S{constructor(e,t,r,n){super(e,t),this.receiver=r,this.key=n}visit(e,t=null){return e.visitKeyedRead(this,t)}},z=class extends S{constructor(e,t,r,n){super(e,t),this.receiver=r,this.key=n}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},q=class extends S{constructor(e,t,r,n,i){super(e,t),this.receiver=r,this.key=n,this.value=i}visit(e,t=null){return e.visitKeyedWrite(this,t)}},X=class extends D{constructor(e,t,r,n,i,a){super(e,t,a),this.exp=r,this.name=n,this.args=i}visit(e,t=null){return e.visitPipe(this,t)}},A=class extends S{constructor(e,t,r){super(e,t),this.value=r}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},Z=class extends S{constructor(e,t,r){super(e,t),this.expressions=r}visit(e,t=null){return e.visitLiteralArray(this,t)}},J=class extends S{constructor(e,t,r,n){super(e,t),this.keys=r,this.values=n}visit(e,t=null){return e.visitLiteralMap(this,t)}},we=class extends S{constructor(e,t,r,n){super(e,t),this.strings=r,this.expressions=n}visit(e,t=null){return e.visitInterpolation(this,t)}},$=class extends S{constructor(e,t,r,n,i){super(e,t),this.operation=r,this.left=n,this.right=i}visit(e,t=null){return e.visitBinary(this,t)}},K=class s extends ${static createMinus(e,t,r){return new s(e,t,"-",r,"-",new A(e,t,0),r)}static createPlus(e,t,r){return new s(e,t,"+",r,"-",r,new A(e,t,0))}constructor(e,t,r,n,i,a,h){super(e,t,i,a,h),this.operator=r,this.expr=n,this.left=null,this.right=null,this.operation=null}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},Y=class extends S{constructor(e,t,r){super(e,t),this.expression=r}visit(e,t=null){return e.visitPrefixNot(this,t)}},ee=class extends S{constructor(e,t,r){super(e,t),this.expression=r}visit(e,t=null){return e.visitNonNullAssert(this,t)}},te=class extends S{constructor(e,t,r,n,i){super(e,t),this.receiver=r,this.args=n,this.argumentSpan=i}visit(e,t=null){return e.visitCall(this,t)}},re=class extends S{constructor(e,t,r,n,i){super(e,t),this.receiver=r,this.args=n,this.argumentSpan=i}visit(e,t=null){return e.visitSafeCall(this,t)}},I=class{constructor(e,t){this.start=e,this.end=t}},R=class extends S{constructor(e,t,r,n,i){super(new P(0,t===null?0:t.length),new I(n,t===null?n:n+t.length)),this.ast=e,this.source=t,this.location=r,this.errors=i}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},T=class{constructor(e,t,r){this.sourceSpan=e,this.key=t,this.value=r}},se=class{constructor(e,t,r){this.sourceSpan=e,this.key=t,this.value=r}},ye=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.receiver,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitAll(e,t){for(let r of e)this.visit(r,t)}};var et;(function(s){s[s.DEFAULT=0]="DEFAULT",s[s.LITERAL_ATTR=1]="LITERAL_ATTR",s[s.ANIMATION=2]="ANIMATION"})(et||(et={}));function tt(s){return s>=9&&s<=32||s==160}function b(s){return 48<=s&&s<=57}function rt(s){return s>=97&&s<=122||s>=65&&s<=90}function Le(s){return s===39||s===34||s===96}var d;(function(s){s[s.Character=0]="Character",s[s.Identifier=1]="Identifier",s[s.PrivateIdentifier=2]="PrivateIdentifier",s[s.Keyword=3]="Keyword",s[s.String=4]="String",s[s.Operator=5]="Operator",s[s.Number=6]="Number",s[s.Error=7]="Error"})(d||(d={}));var ur=["var","let","as","null","undefined","true","false","if","else","this"],xe=class{tokenize(e){let t=new Ke(e),r=[],n=t.scanToken();for(;n!=null;)r.push(n),n=t.scanToken();return r}},N=class{constructor(e,t,r,n,i){this.index=e,this.end=t,this.type=r,this.numValue=n,this.strValue=i}isCharacter(e){return this.type==d.Character&&this.numValue==e}isNumber(){return this.type==d.Number}isString(){return this.type==d.String}isOperator(e){return this.type==d.Operator&&this.strValue==e}isIdentifier(){return this.type==d.Identifier}isPrivateIdentifier(){return this.type==d.PrivateIdentifier}isKeyword(){return this.type==d.Keyword}isKeywordLet(){return this.type==d.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==d.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==d.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==d.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==d.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==d.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==d.Keyword&&this.strValue=="this"}isError(){return this.type==d.Error}toNumber(){return this.type==d.Number?this.numValue:-1}toString(){switch(this.type){case d.Character:case d.Identifier:case d.Keyword:case d.Operator:case d.PrivateIdentifier:case d.String:case d.Error:return this.strValue;case d.Number:return this.numValue.toString();default:return null}}};function ot(s,e,t){return new N(s,e,d.Character,t,String.fromCharCode(t))}function lr(s,e,t){return new N(s,e,d.Identifier,0,t)}function xr(s,e,t){return new N(s,e,d.PrivateIdentifier,0,t)}function fr(s,e,t){return new N(s,e,d.Keyword,0,t)}function Be(s,e,t){return new N(s,e,d.Operator,0,t)}function dr(s,e,t){return new N(s,e,d.String,0,t)}function vr(s,e,t){return new N(s,e,d.Number,t,"")}function gr(s,e,t){return new N(s,e,d.Error,0,t)}var Ce=new N(-1,-1,d.Character,0,""),Ke=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,r=this.peek,n=this.index;for(;r<=32;)if(++n>=t){r=0;break}else r=e.charCodeAt(n);if(this.peek=r,this.index=n,n>=t)return null;if(ct(r))return this.scanIdentifier();if(b(r))return this.scanNumber(n);let i=n;switch(r){case 46:return this.advance(),b(this.peek)?this.scanNumber(i):ot(i,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,r);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(r));case 63:return this.scanQuestion(i);case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(r),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(r),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;tt(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,t){return this.advance(),ot(e,this.index,t)}scanOperator(e,t){return this.advance(),Be(e,this.index,t)}scanComplexOperator(e,t,r,n,i,a){this.advance();let h=t;return this.peek==r&&(this.advance(),h+=n),i!=null&&this.peek==i&&(this.advance(),h+=a),Be(e,this.index,h)}scanIdentifier(){let e=this.index;for(this.advance();ht(this.peek);)this.advance();let t=this.input.substring(e,this.index);return ur.indexOf(t)>-1?fr(e,this.index,t):lr(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!ct(this.peek))return this.error("Invalid character [#]",-1);for(;ht(this.peek);)this.advance();let t=this.input.substring(e,this.index);return xr(e,this.index,t)}scanNumber(e){let t=this.index===e,r=!1;for(this.advance();;){if(!b(this.peek))if(this.peek===95){if(!b(this.input.charCodeAt(this.index-1))||!b(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===46)t=!1;else if(mr(this.peek)){if(this.advance(),Sr(this.peek)&&this.advance(),!b(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let n=this.input.substring(e,this.index);r&&(n=n.replace(/_/g,""));let i=t?yr(n):parseFloat(n);return vr(e,this.index,i)}scanString(){let e=this.index,t=this.peek;this.advance();let r="",n=this.index,i=this.input;for(;this.peek!=t;)if(this.peek==92){r+=i.substring(n,this.index);let h;if(this.advance(),this.peek==117){let v=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(v))h=parseInt(v,16);else return this.error(`Invalid unicode escape [\\u${v}]`,0);for(let f=0;f<5;f++)this.advance()}else h=wr(this.peek),this.advance();r+=String.fromCharCode(h),n=this.index}else{if(this.peek==0)return this.error("Unterminated quote",0);this.advance()}let a=i.substring(n,this.index);return this.advance(),dr(e,this.index,r+a)}scanQuestion(e){this.advance();let t="?";return(this.peek===63||this.peek===46)&&(t+=this.peek===46?".":"?",this.advance()),Be(e,this.index,t)}error(e,t){let r=this.index+t;return gr(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}};function ct(s){return 97<=s&&s<=122||65<=s&&s<=90||s==95||s==36}function ht(s){return rt(s)||b(s)||s==95||s==36}function mr(s){return s==101||s==69}function Sr(s){return s==45||s==43}function wr(s){switch(s){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return s}}function yr(s){let e=parseInt(s);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+s);return e}var Er=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function xt(s,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${s}' to be an array, [start, end].`);if(e!=null){let t=e[0],r=e[1];Er.forEach(n=>{if(n.test(t)||n.test(r))throw new Error(`['${t}', '${r}'] contains unusable interpolation symbol.`)})}}var _e=class s{static fromArray(e){return e?(xt("interpolation",e),new s(e[0],e[1])):F}constructor(e,t){this.start=e,this.end=t}},F=new _e("{{","}}");var Me=class{constructor(e,t,r){this.strings=e,this.expressions=t,this.offsets=r}},Fe=class{constructor(e,t,r){this.templateBindings=e,this.warnings=t,this.errors=r}},ve=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,r,n,i=F){this._checkNoInterpolation(e,r,i);let a=this._stripComments(e),h=this._lexer.tokenize(a),v=1;t&&(v|=2);let f=new U(e,r,n,h,v,this.errors,0).parseChain();return new R(f,e,r,n,this.errors)}parseBinding(e,t,r,n=F){let i=this._parseBindingAst(e,t,r,n);return new R(i,e,t,r,this.errors)}checkSimpleExpression(e){let t=new Ue;return e.visit(t),t.errors}parseSimpleBinding(e,t,r,n=F){let i=this._parseBindingAst(e,t,r,n),a=this.checkSimpleExpression(i);return a.length>0&&this._reportError(`Host binding expression cannot contain ${a.join(" ")}`,e,t),new R(i,e,t,r,this.errors)}_reportError(e,t,r,n){this.errors.push(new G(e,t,r,n))}_parseBindingAst(e,t,r,n){this._checkNoInterpolation(e,t,n);let i=this._stripComments(e),a=this._lexer.tokenize(i);return new U(e,t,r,a,0,this.errors,0).parseChain()}parseTemplateBindings(e,t,r,n,i){let a=this._lexer.tokenize(t);return new U(t,r,i,a,0,this.errors,0).parseTemplateBindings({source:e,span:new I(n,n+e.length)})}parseInterpolation(e,t,r,n,i=F){let{strings:a,expressions:h,offsets:v}=this.splitInterpolation(e,t,n,i);if(h.length===0)return null;let f=[];for(let w=0;w<h.length;++w){let k=h[w].text,C=this._stripComments(k),y=this._lexer.tokenize(C),m=new U(e,t,r,y,0,this.errors,v[w]).parseChain();f.push(m)}return this.createInterpolationAst(a.map(w=>w.text),f,e,t,r)}parseInterpolationExpression(e,t,r){let n=this._stripComments(e),i=this._lexer.tokenize(n),a=new U(e,t,r,i,0,this.errors,0).parseChain(),h=["",""];return this.createInterpolationAst(h,[a],e,t,r)}createInterpolationAst(e,t,r,n,i){let a=new P(0,r.length),h=new we(a,a.toAbsolute(i),e,t);return new R(h,r,n,i,this.errors)}splitInterpolation(e,t,r,n=F){let i=[],a=[],h=[],v=r?Ar(r):null,f=0,w=!1,k=!1,{start:C,end:y}=n;for(;f<e.length;)if(w){let m=f,c=m+C.length,o=this._getInterpolationEndIndex(e,y,c);if(o===-1){w=!1,k=!0;break}let x=o+y.length,p=e.substring(c,o);p.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${f} in`,t),a.push({text:p,start:m,end:x});let g=((v==null?void 0:v.get(m))??m)+C.length;h.push(g),f=x,w=!1}else{let m=f;f=e.indexOf(C,f),f===-1&&(f=e.length);let c=e.substring(m,f);i.push({text:c,start:m,end:f}),w=!0}if(!w)if(k){let m=i[i.length-1];m.text+=e.substring(f),m.end=e.length}else i.push({text:e.substring(f),start:f,end:e.length});return new Me(i,a,h)}wrapLiteralPrimitive(e,t,r){let n=new P(0,e==null?0:e.length);return new R(new A(n,n.toAbsolute(r),e),e,t,r,this.errors)}_stripComments(e){let t=this._commentStart(e);return t!=null?e.substring(0,t):e}_commentStart(e){let t=null;for(let r=0;r<e.length-1;r++){let n=e.charCodeAt(r),i=e.charCodeAt(r+1);if(n===47&&i==47&&t==null)return r;t===n?t=null:t==null&&Le(n)&&(t=n)}return null}_checkNoInterpolation(e,t,{start:r,end:n}){let i=-1,a=-1;for(let h of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(r)&&(i=h);else if(a=this._getInterpolationEndIndex(e,n,h),a>-1)break;i>-1&&a>-1&&this._reportError(`Got interpolation (${r}${n}) where expression was expected`,e,`at column ${i} in`,t)}_getInterpolationEndIndex(e,t,r){for(let n of this._forEachUnquotedChar(e,r)){if(e.startsWith(t,n))return n;if(e.startsWith("//",n))return e.indexOf(t,n)}return-1}*_forEachUnquotedChar(e,t){let r=null,n=0;for(let i=t;i<e.length;i++){let a=e[i];Le(e.charCodeAt(i))&&(r===null||r===a)&&n%2===0?r=r===null?a:null:r===null&&(yield i),n=a==="\\"?n+1:0}}},he;(function(s){s[s.None=0]="None",s[s.Writable=1]="Writable"})(he||(he={}));var U=class{constructor(e,t,r,n,i,a,h){this.input=e,this.location=t,this.absoluteOffset=r,this.tokens=n,this.parseFlags=i,this.errors=a,this.offset=h,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=he.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:Ce}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let r=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(r=t),e>r){let n=r;r=e,e=n}return new P(e,r)}sourceSpan(e,t){let r=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,t){this.context|=e;let r=t();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Ce?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(59))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else if(this.index<this.tokens.length){let n=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===n)break}}if(e.length===0){let r=this.offset,n=this.offset+this.input.length;return new E(this.span(r,n),this.sourceSpan(r,n))}return e.length==1?e[0]:new V(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,n=this.expectIdentifierOrKeyword(),i,a;n!==null?i=this.sourceSpan(r):(n="",a=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new P(a,a).toAbsolute(this.absoluteOffset));let h=[];for(;this.consumeOptionalCharacter(58);)h.push(this.parseExpression());t=new X(this.span(e),this.sourceSpan(e,a),t,n,h,i)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),n;if(this.consumeOptionalCharacter(58))n=this.parsePipe();else{let i=this.inputIndex,a=this.input.substring(e,i);this.error(`Conditional expression ${a} requires all 3 expressions`),n=new E(this.span(e),this.sourceSpan(e))}return new W(this.span(e),this.sourceSpan(e),t,r,n)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();t=new $(this.span(e),this.sourceSpan(e),"||",t,r)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();t=new $(this.span(e),this.sourceSpan(e),"&&",t,r)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();t=new $(this.span(e),this.sourceSpan(e),"??",t,r)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==d.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let n=this.parseRelational();t=new $(this.span(e),this.sourceSpan(e),r,t,n);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==d.Operator;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":this.advance();let n=this.parseAdditive();t=new $(this.span(e),this.sourceSpan(e),r,t,n);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==d.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let n=this.parseMultiplicative();t=new $(this.span(e),this.sourceSpan(e),r,t,n);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==d.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let n=this.parsePrefix();t=new $(this.span(e),this.sourceSpan(e),r,t,n);continue}break}return t}parsePrefix(){if(this.next.type==d.Operator){let e=this.inputIndex,t=this.next.strValue,r;switch(t){case"+":return this.advance(),r=this.parsePrefix(),K.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),K.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new Y(this.span(e),this.sourceSpan(e),r)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(46))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(40)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(91))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(40))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new ee(this.span(e),this.sourceSpan(e),t);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;let t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}else{if(this.next.isKeywordNull())return this.advance(),new A(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new A(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new A(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new A(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Se(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;let t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Z(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new L(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new A(this.span(e),this.sourceSpan(e),t)}else if(this.next.isString()){let t=this.next.toString();return this.advance(),new A(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new E(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new E(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new E(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(44));return t}parseLiteralMap(){let e=[],t=[],r=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{let n=this.inputIndex,i=this.next.isString(),a=this.expectIdentifierOrKeywordOrString();if(e.push({key:a,quoted:i}),i)this.expectCharacter(58),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(58))t.push(this.parsePipe());else{let h=this.span(n),v=this.sourceSpan(n);t.push(new B(h,v,v,new L(h,v),a))}}while(this.consumeOptionalCharacter(44)&&!this.next.isCharacter(125));this.rbracesExpected--,this.expectCharacter(125)}return new J(this.span(r),this.sourceSpan(r),e,t)}parseAccessMember(e,t,r){let n=this.inputIndex,i=this.withContext(he.Writable,()=>{let v=this.expectIdentifierOrKeyword()??"";return v.length===0&&this.error("Expected identifier for property access",e.span.end),v}),a=this.sourceSpan(n),h;if(r)this.consumeOptionalAssignment()?(this.error("The '?.' operator cannot be used in the assignment"),h=new E(this.span(t),this.sourceSpan(t))):h=new H(this.span(t),this.sourceSpan(t),a,e,i);else if(this.consumeOptionalAssignment()){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new E(this.span(t),this.sourceSpan(t));let v=this.parseConditional();h=new Q(this.span(t),this.sourceSpan(t),a,e,i,v)}else h=new B(this.span(t),this.sourceSpan(t),a,e,i);return h}parseCall(e,t,r){let n=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),a=this.span(n,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;let h=this.span(t),v=this.sourceSpan(t);return r?new re(h,v,e,i,a):new te(h,v,e,i,a)}consumeOptionalAssignment(){return this.parseFlags&2&&this.next.isOperator("!")&&this.peek(1).isOperator("=")?(this.advance(),this.advance(),!0):this.consumeOptionalOperator("=")}parseCallArguments(){if(this.next.isCharacter(41))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(44));return e}expectTemplateBindingKey(){let e="",t=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new I(r,r+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)t.push(r);else{let n=this.expectTemplateBindingKey(),i=this.parseAsBinding(n);i?t.push(i):(n.source=e.source+n.source.charAt(0).toUpperCase()+n.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(n)))}this.consumeStatementTerminator()}return new Fe(t,[],this.errors)}parseKeyedReadOrWrite(e,t,r){return this.withContext(he.Writable,()=>{this.rbracketsExpected++;let n=this.parsePipe();if(n instanceof E&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("="))if(r)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new q(this.span(t),this.sourceSpan(t),e,n,i)}else return r?new z(this.span(t),this.sourceSpan(t),e,n):new j(this.span(t),this.sourceSpan(t),e,n);return new E(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(58);let r=this.getDirectiveBoundTarget(),n=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),n=this.currentAbsoluteOffset);let a=new I(e.span.start,n);return t.push(new se(a,e,r)),i&&t.push(i),t}getDirectiveBoundTarget(){if(this.next===Ce||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:r}=e.span,n=this.input.substring(t,r);return new R(e,n,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new I(e.span.start,this.currentAbsoluteOffset);return new T(r,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let n=new I(e,this.currentAbsoluteOffset);return new T(n,t,r)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(e,t=null){this.errors.push(new G(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(r+=`, ${t}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(59)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93))&&(!(this.context&he.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new G(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},Ue=class extends ye{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function Ar(s){let e=new Map,t=0,r=0,n=0;for(;n<s.length;){let i=s[n];if(i.type===9){let[a,h]=i.parts;t+=h.length,r+=a.length}else{let a=i.parts.reduce((h,v)=>h+v.length,0);r+=a,t+=a}e.set(r,t),n++}return e}var dt="angular-estree-parser",De="NgEstreeParser",Ge=0,Ve=[dt,Ge];function vt(){return new ve(new xe)}function We(s,e){let t=vt(),{astInput:r,comments:n}=Cr(s,t),{ast:i,errors:a}=e(r,t);return yt(a),{ast:i,comments:n}}function gt(s){return We(s,(e,t)=>t.parseBinding(e,...Ve))}function mt(s){return We(s,(e,t)=>t.parseAction(e,!1,...Ve))}function St(s){return We(s,(e,t)=>{let r=t.parseInterpolationExpression(e,...Ve);return r.ast=r.ast.expressions[0],r})}function wt(s){let e=vt(),{templateBindings:t,errors:r}=e.parseTemplateBindings(De,s,dt,Ge,Ge);return yt(r),t}function yt(s){if(s.length!==0){let[{message:e}]=s;throw new SyntaxError(e.replace(/^Parser Error: | at column \d+ in [^]*$/g,""))}}function Cr(s,e){let t=e._commentStart(s);return t===null?{astInput:s,comments:[]}:{astInput:s.slice(0,t),comments:[{type:"Comment",value:s.slice(t+2),sourceSpan:{start:t,end:s.length}}]}}function Et(s){return s instanceof K?"Unary":s instanceof $?"Binary":s instanceof X?"BindingPipe":s instanceof te?"Call":s instanceof V?"Chain":s instanceof W?"Conditional":s instanceof E?"EmptyExpr":s instanceof L?"ImplicitReceiver":s instanceof j?"KeyedRead":s instanceof z?"SafeKeyedRead":s instanceof q?"KeyedWrite":s instanceof Z?"LiteralArray":s instanceof J?"LiteralMap":s instanceof A?"LiteralPrimitive":s instanceof ee?"NonNullAssert":s instanceof Y?"PrefixNot":s instanceof B?"PropertyRead":s instanceof Q?"PropertyWrite":s instanceof re?"SafeCall":s instanceof H?"SafePropertyRead":s.type}function ft({start:s,end:e},t){let r=s,n=e;for(;n!==r&&/\s/.test(t[n-1]);)n--;for(;r!==n&&/\s/.test(t[r]);)r++;return{start:r,end:n}}function Or({start:s,end:e},t){let r=s,n=e;for(;n!==t.length&&/\s/.test(t[n]);)n++;for(;r!==0&&/\s/.test(t[r-1]);)r--;return{start:r,end:n}}function Nr(s,e){return e[s.start-1]==="("&&e[s.end]===")"?{start:s.start-1,end:s.end+1}:s}function At(s,e,t){let r=0,n={start:s.start,end:s.end};for(;;){let i=Or(n,e),a=Nr(i,e);if(i.start===a.start&&i.end===a.end)break;n.start=a.start,n.end=a.end,r++}return{hasParens:(t?r-1:r)!==0,outerSpan:ft(t?{start:n.start+1,end:n.end-1}:n,e),innerSpan:ft(s,e)}}function $t(s,e,t){let r=e;for(;!s.test(t[r]);)if(--r<0)throw new Error(`Cannot find front char ${s} from index ${e} in ${JSON.stringify(t)}`);return r}function Oe(s,e,t){let r=e;for(;!s.test(t[r]);)if(++r>=t.length)throw new Error(`Cannot find back char ${s} from index ${e} in ${JSON.stringify(t)}`);return r}function Ct(s){return s.slice(0,1).toLowerCase()+s.slice(1)}function Ot(s){return s.length===0?void 0:s[s.length-1]}var pe=(s,e,t=!1)=>{let r=Et(s);switch(r){case"Unary":{let{operator:c,expr:o}=s,x=n(o);return a("UnaryExpression",{prefix:!0,argument:x,operator:c},s.sourceSpan,{hasParentParens:t})}case"Binary":{let{left:c,operation:o,right:x}=s,p=n(c),u=n(x);return a(o==="&&"||o==="||"||o==="??"?"LogicalExpression":"BinaryExpression",{left:p,right:u,operator:o},{start:y(p),end:m(u)},{hasParentParens:t})}case"BindingPipe":{let{exp:c,name:o,args:x}=s,p=n(c),u=f(/\S/,f(/\|/,m(p))+1),g=a("Identifier",{name:o},{start:u,end:u+o.length}),l=x.map(n);return a("NGPipeExpression",{left:p,right:g,arguments:l},{start:y(p),end:m(l.length===0?g:Ot(l))},{hasParentParens:t})}case"Chain":{let{expressions:c}=s;return a("NGChainedExpression",{expressions:c.map(n)},s.sourceSpan,{hasParentParens:t})}case"Comment":{let{value:c}=s;return a("CommentLine",{value:c},s.sourceSpan,{processSpan:!1})}case"Conditional":{let{condition:c,trueExp:o,falseExp:x}=s,p=n(c),u=n(o),g=n(x);return a("ConditionalExpression",{test:p,consequent:u,alternate:g},{start:y(p),end:m(g)},{hasParentParens:t})}case"EmptyExpr":return a("NGEmptyExpression",{},s.sourceSpan,{hasParentParens:t});case"ImplicitReceiver":return a("ThisExpression",{},s.sourceSpan,{hasParentParens:t});case"KeyedRead":case"SafeKeyedRead":{let c=r==="SafeKeyedRead",{key:o}=s,x=Object.prototype.hasOwnProperty.call(s,"receiver")?s.receiver:s.obj,p=n(o);return h(x,p,{computed:!0,optional:c},{end:s.sourceSpan.end,hasParentParens:t})}case"LiteralArray":{let{expressions:c}=s;return a("ArrayExpression",{elements:c.map(n)},s.sourceSpan,{hasParentParens:t})}case"LiteralMap":{let{keys:c,values:o}=s,x=o.map(u=>n(u)),p=c.map(({key:u,quoted:g},l)=>{let O=x[l],ue=y(O),qe=m(O),Re=f(/\S/,l===0?s.sourceSpan.start+1:f(/,/,m(x[l-1]))+1),bt=ue===Re?qe:v(/\S/,v(/:/,ue-1)-1)+1,Xe={start:Re,end:bt},ge=g?a("StringLiteral",{value:u},Xe):a("Identifier",{name:u},Xe),Bt=ge.end<ge.start||Re===ue;return a("ObjectProperty",{key:ge,value:O,shorthand:Bt,computed:!1},{start:y(ge),end:qe})});return a("ObjectExpression",{properties:p},s.sourceSpan,{hasParentParens:t})}case"LiteralPrimitive":{let{value:c}=s;switch(typeof c){case"boolean":return a("BooleanLiteral",{value:c},s.sourceSpan,{hasParentParens:t});case"number":return a("NumericLiteral",{value:c},s.sourceSpan,{hasParentParens:t});case"object":return a("NullLiteral",{},s.sourceSpan,{hasParentParens:t});case"string":return a("StringLiteral",{value:c},s.sourceSpan,{hasParentParens:t});case"undefined":return a("Identifier",{name:"undefined"},s.sourceSpan,{hasParentParens:t});default:throw new Error(`Unexpected LiteralPrimitive value type ${typeof c}`)}}case"Call":case"SafeCall":{let c=r==="SafeCall",{receiver:o,args:x}=s,p=x.length===1?[i(x[0])]:x.map(n),u=n(o),g=k(u),l=c||g?"OptionalCallExpression":"CallExpression";return a(l,{callee:u,arguments:p,optional:l==="OptionalCallExpression"?c:void 0},{start:y(u),end:s.sourceSpan.end},{hasParentParens:t})}case"NonNullAssert":{let{expression:c}=s,o=n(c);return a("TSNonNullExpression",{expression:o},{start:y(o),end:s.sourceSpan.end},{hasParentParens:t})}case"PrefixNot":{let{expression:c}=s,o=n(c);return a("UnaryExpression",{prefix:!0,operator:"!",argument:o},{start:s.sourceSpan.start,end:m(o)},{hasParentParens:t})}case"PropertyRead":case"SafePropertyRead":{let c=r==="SafePropertyRead",{receiver:o,name:x}=s,p=v(/\S/,s.sourceSpan.end-1)+1,u=a("Identifier",{name:x},{start:p-x.length,end:p},w(o)?{hasParentParens:t}:{});return h(o,u,{computed:!1,optional:c},{hasParentParens:t})}case"KeyedWrite":{let{key:c,value:o}=s,x=Object.prototype.hasOwnProperty.call(s,"receiver")?s.receiver:s.obj,p=n(c),u=n(o),g=h(x,p,{computed:!0,optional:!1},{end:f(/\]/,m(p))+1});return a("AssignmentExpression",{left:g,operator:"=",right:u},{start:y(g),end:m(u)},{hasParentParens:t})}case"PropertyWrite":{let{receiver:c,name:o,value:x}=s,p=n(x),u=v(/\S/,v(/=/,y(p)-1)-1)+1,g=a("Identifier",{name:o},{start:u-o.length,end:u}),l=h(c,g,{computed:!1,optional:!1});return a("AssignmentExpression",{left:l,operator:"=",right:p},{start:y(l),end:m(p)},{hasParentParens:t})}default:throw new Error(`Unexpected node ${r}`)}function n(c){return pe(c,e)}function i(c){return pe(c,e,!0)}function a(c,o,x,{processSpan:p=!0,hasParentParens:u=!1}={}){let g={type:c,...Ne(x,e,p,u),...o};switch(c){case"NumericLiteral":{let l=g;l.extra={...l.extra,raw:e.text.slice(l.start,l.end),rawValue:l.value};break}case"StringLiteral":{let l=g;l.extra={...l.extra,raw:e.text.slice(l.start,l.end),rawValue:l.value};break}case"ObjectProperty":{let l=g;l.shorthand&&(l.extra={...l.extra,shorthand:l.shorthand});break}}return g}function h(c,o,x,{end:p=m(o),hasParentParens:u=!1}={}){if(w(c)||c.sourceSpan.start===o.start)return o;let g=n(c),l=k(g);return a(x.optional||l?"OptionalMemberExpression":"MemberExpression",{object:g,property:o,computed:x.computed,...x.optional?{optional:!0}:l?{optional:!1}:null},{start:y(g),end:p},{hasParentParens:u})}function v(c,o){return $t(c,o,e.text)}function f(c,o){return Oe(c,o,e.text)}function w(c){return c.sourceSpan.start>=c.sourceSpan.end||/^\s+$/.test(e.text.slice(c.sourceSpan.start,c.sourceSpan.end))}function k(c){return(c.type==="OptionalCallExpression"||c.type==="OptionalMemberExpression")&&!C(c)}function C(c){return c.extra&&c.extra.parenthesized}function y(c){return C(c)?c.extra.parenStart:c.start}function m(c){return C(c)?c.extra.parenEnd:c.end}};function Ne(s,e,t=!1,r=!1){if(!t){let{start:h,end:v}=s;return{start:h,end:v,loc:{start:e.locator.locationForIndex(h),end:e.locator.locationForIndex(v)}}}let{outerSpan:n,innerSpan:i,hasParens:a}=At(s,e.text,r);return{start:i.start,end:i.end,loc:{start:e.locator.locationForIndex(i.start),end:e.locator.locationForIndex(i.end)},...a&&{extra:{parenthesized:!0,parenStart:n.start,parenEnd:n.end}}}}function Nt(s,e){s.forEach(y);let[t]=s,{key:r}=t,n=e.text.slice(t.sourceSpan.start,t.sourceSpan.end).trim().length===0?s.slice(1):s,i=[],a=null;for(let o=0;o<n.length;o++){let x=n[o];if(a&&k(a)&&C(x)&&x.value&&x.value.source===a.key.source){let p=f("NGMicrosyntaxKey",{name:x.key.source},x.key.span),u=(O,ue)=>({...O,...Ne({start:O.start,end:ue},e)}),g=O=>({...u(O,p.end),alias:p}),l=i.pop();if(l.type==="NGMicrosyntaxExpression")i.push(g(l));else if(l.type==="NGMicrosyntaxKeyedExpression"){let O=g(l.expression);i.push(u({...l,expression:O},O.end))}else throw new Error(`Unexpected type ${l.type}`)}else i.push(h(x,o));a=x}return f("NGMicrosyntax",{body:i},i.length===0?s[0].sourceSpan:{start:i[0].start,end:i[i.length-1].end});function h(o,x){if(k(o)){let{key:p,value:u}=o;return u?x===0?f("NGMicrosyntaxExpression",{expression:v(u.ast),alias:null},u.sourceSpan):f("NGMicrosyntaxKeyedExpression",{key:f("NGMicrosyntaxKey",{name:w(p.source)},p.span),expression:f("NGMicrosyntaxExpression",{expression:v(u.ast),alias:null},u.sourceSpan)},{start:p.span.start,end:u.sourceSpan.end}):f("NGMicrosyntaxKey",{name:w(p.source)},p.span)}else{let{key:p,sourceSpan:u}=o;if(/^let\s$/.test(e.text.slice(u.start,u.start+4))){let{value:l}=o;return f("NGMicrosyntaxLet",{key:f("NGMicrosyntaxKey",{name:p.source},p.span),value:l?f("NGMicrosyntaxKey",{name:l.source},l.span):null},{start:u.start,end:l?l.span.end:p.span.end})}else{let l=c(o);return f("NGMicrosyntaxAs",{key:f("NGMicrosyntaxKey",{name:l.source},l.span),alias:f("NGMicrosyntaxKey",{name:p.source},p.span)},{start:l.span.start,end:p.span.end})}}}function v(o){return pe(o,e)}function f(o,x,p,u=!0){return{type:o,...Ne(p,e,u),...x}}function w(o){return Ct(o.slice(r.source.length))}function k(o){return o instanceof se}function C(o){return o instanceof T}function y(o){m(o.key.span),C(o)&&o.value&&m(o.value.span)}function m(o){if(e.text[o.start]!=='"'&&e.text[o.start]!=="'")return;let x=e.text[o.start],p=!1;for(let u=o.start+1;u<e.text.length;u++)switch(e.text[u]){case x:if(!p){o.end=u+1;return}default:p=!1;break;case"\\":p=!p;break}}function c(o){if(!o.value||o.value.source!==De)return o.value;let x=Oe(/\S/,o.sourceSpan.start,e.text);return{source:"$implicit",span:{start:x,end:x}}}}function Qe(s,e){let{ast:t,comments:r}=e(s),n=new le(s),i=h=>pe(h,n),a=i(t);return a.comments=r.map(h=>i(h)),a}function kt(s){return Qe(s,gt)}function It(s){return Qe(s,St)}function He(s){return Qe(s,mt)}function Rt(s){return Nt(wt(s),new le(s))}function kr(s){return Array.isArray(s)&&s.length>0}var Pt=kr;function je(s){var r;let e=s.range?s.range[0]:s.start,t=((r=s.declaration)==null?void 0:r.decorators)??s.decorators;return Pt(t)?Math.min(je(t[0]),e):e}function Lt(s){return s.range?s.range[1]:s.end}function ke(s){return{astFormat:"estree",parse(e){let t=s(e);return{type:"NGRoot",node:s===He&&t.type!=="NGChainedExpression"?{...t,type:"NGChainedExpression",expressions:[t]}:t}},locStart:je,locEnd:Lt}}var Ir=ke(He),Rr=ke(kt),Pr=ke(It),Lr=ke(Rt);var fs=ze;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfcHJldHRpZXJfcGx1Z2luc19hbmd1bGFyX21qcy5tYWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkJBQTZCLGVBQWUsdUJBQXVCLHVCQUF1QixHQUFHLFVBQVUsT0FBTyxlQUFlLEVBQUUsVUFBVSxPQUFPLHVGQUF1RixFQUFFO0FBQ3pPLHdCQUF3QixjQUFjLHFCQUFxQixrQkFBa0IsV0FBVyxjQUFjLCtCQUErQixNQUFNLHlEQUF5RCxNQUFNLFlBQVksTUFBTSxlQUFlLGdEQUFnRCxrQ0FBa0MsMkJBQTJCLFVBQVUsS0FBSyxhQUFhLE9BQU8saUJBQWlCLDBDQUEwQyx3QkFBd0IsdUZBQXVGLHNDQUFzQyxnRkFBZ0YsV0FBVyxHQUFHLEdBQUcsYUFBYSxLQUFLLFFBQVEsZUFBZSw0Q0FBNEMsVUFBVSxpQkFBaUIsZUFBZSxnQ0FBZ0Msb0JBQW9CLElBQUksZ0JBQWdCLDJDQUEyQyxPQUFPLDZCQUE2QixZQUFZLHFCQUFxQixpRkFBaUYsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLFNBQVMsaUJBQWlCLHdCQUF3QixjQUFjLHVDQUF1QyxTQUFTLGlCQUFpQiw4QkFBOEIsV0FBVyxhQUFhLG1CQUFtQixtQkFBbUIsNEJBQTRCLG1CQUFtQixrQkFBa0IsbUJBQW1CLGdCQUFnQix3Q0FBd0Msb0JBQW9CLGdCQUFnQixNQUFNLDZEQUE2RCxtQkFBbUIsbUJBQW1CLDhCQUE4QixnQkFBZ0IsNkJBQTZCLG1CQUFtQix1QkFBdUIsMkRBQTJELGdCQUFnQixtQ0FBbUMsbUJBQW1CLHVCQUF1Qix5Q0FBeUMsZ0JBQWdCLG9DQUFvQyxtQkFBbUIseUJBQXlCLHNEQUFzRCxnQkFBZ0IscUNBQXFDLG1CQUFtQix1QkFBdUIseUNBQXlDLGdCQUFnQix3Q0FBd0MsbUJBQW1CLHFCQUFxQixzQ0FBc0MsZ0JBQWdCLGlDQUFpQyxtQkFBbUIscUJBQXFCLHNDQUFzQyxnQkFBZ0IscUNBQXFDLG1C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b2R1bGVzL3ByZXR0aWVyL3BsdWdpbnMvYW5ndWxhci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEt0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgWmU9KHMsZSk9Pntmb3IodmFyIHQgaW4gZSlLdChzLHQse2dldDplW3RdLGVudW1lcmFibGU6ITB9KX07dmFyIHplPXt9O1plKHplLHtwYXJzZXJzOigpPT5JZX0pO3ZhciBJZT17fTtaZShJZSx7X19uZ19hY3Rpb246KCk9PklyLF9fbmdfYmluZGluZzooKT0+UnIsX19uZ19kaXJlY3RpdmU6KCk9PkxyLF9fbmdfaW50ZXJwb2xhdGlvbjooKT0+UHJ9KTt2YXIgbWU9YFxuYCxKZT1cIlxcclwiLFllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyhlKXt0aGlzLmxlbmd0aD1lLmxlbmd0aDtmb3IodmFyIHQ9WzBdLHI9MDtyPGUubGVuZ3RoOylzd2l0Y2goZVtyXSl7Y2FzZSBtZTpyKz1tZS5sZW5ndGgsdC5wdXNoKHIpO2JyZWFrO2Nhc2UgSmU6cis9SmUubGVuZ3RoLGVbcl09PT1tZSYmKHIrPW1lLmxlbmd0aCksdC5wdXNoKHIpO2JyZWFrO2RlZmF1bHQ6cisrO2JyZWFrfXRoaXMub2Zmc2V0cz10fXJldHVybiBzLnByb3RvdHlwZS5sb2NhdGlvbkZvckluZGV4PWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT50aGlzLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIHQ9MCxyPXRoaXMub2Zmc2V0cztyW3QrMV08PWU7KXQrKzt2YXIgbj1lLXJbdF07cmV0dXJue2xpbmU6dCxjb2x1bW46bn19LHMucHJvdG90eXBlLmluZGV4Rm9yTG9jYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5saW5lLHI9ZS5jb2x1bW47cmV0dXJuIHQ8MHx8dD49dGhpcy5vZmZzZXRzLmxlbmd0aHx8cjwwfHxyPnRoaXMubGVuZ3RoT2ZMaW5lKHQpP251bGw6dGhpcy5vZmZzZXRzW3RdK3J9LHMucHJvdG90eXBlLmxlbmd0aE9mTGluZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldHNbZV0scj1lPT09dGhpcy5vZmZzZXRzLmxlbmd0aC0xP3RoaXMubGVuZ3RoOnRoaXMub2Zmc2V0c1tlKzFdO3JldHVybiByLXR9LHN9KCk7dmFyIGxlPWNsYXNze3RleHQ7bG9jYXRvcjtjb25zdHJ1Y3RvcihlKXt0aGlzLnRleHQ9ZSx0aGlzLmxvY2F0b3I9bmV3IFBlKHRoaXMudGV4dCl9fSxQZT1jbGFzc3tfbGluZXNBbmRDb2x1bW5zO2NvbnN0cnVjdG9yKGUpe3RoaXMuX2xpbmVzQW5kQ29sdW1ucz1uZXcgWWUoZSl9bG9jYXRpb25Gb3JJbmRleChlKXtsZXR7bGluZTp0LGNvbHVtbjpyfT10aGlzLl9saW5lc0FuZENvbHVtbnMubG9jYXRpb25Gb3JJbmRleChlKTtyZXR1cm57bGluZTp0KzEsY29sdW1uOnIsaW5kZXg6ZX19fTt2YXIgRz1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmlucHV0PXQsdGhpcy5lcnJMb2NhdGlvbj1yLHRoaXMuY3R4TG9jYXRpb249bix0aGlzLm1lc3NhZ2U9YFBhcnNlciBFcnJvcjogJHtlfSAke3J9IFske3R9XSBpbiAke259YH19LFA9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dH10b0Fic29sdXRlKGUpe3JldHVybiBuZXcgSShlK3RoaXMuc3RhcnQsZSt0aGlzLmVuZCl9fSxTPWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zcGFuPWUsdGhpcy5zb3VyY2VTcGFuPXR9dG9TdHJpbmcoKXtyZXR1cm5cIkFTVFwifX0sRD1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCksdGhpcy5uYW1lU3Bhbj1yfX0sRT1jbGFzcyBleHRlbmRzIFN7dmlzaXQoZSx0PW51bGwpe319LEw9Y2xhc3MgZXh0ZW5kcyBTe3Zpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdEltcGxpY2l0UmVjZWl2ZXIodGhpcyx0KX19LFNlPWNsYXNzIGV4dGVuZHMgTHt2aXNpdChlLHQ9bnVsbCl7dmFyIHI7cmV0dXJuKHI9ZS52aXNpdFRoaXNSZWNlaXZlcik9PW51bGw/dm9pZCAwOnIuY2FsbChlLHRoaXMsdCl9fSxWPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KSx0aGlzLmV4cHJlc3Npb25zPXJ9dmlzaXQoZSx0PW51bGwpe3JldHVybiBlLnZpc2l0Q2hhaW4odGhpcyx0KX19LFc9Y2xhc3MgZXh0ZW5kcyBTe2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIoZSx0KSx0aGlzLmNvbmRpdGlvbj1yLHRoaXMudHJ1ZUV4cD1uLHRoaXMuZmFsc2VFeHA9aX12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRDb25kaXRpb25hbCh0aGlzLHQpfX0sQj1jbGFzcyBleHRlbmRzIER7Y29uc3RydWN0b3IoZSx0LHIsbixpKXtzdXBlcihlLHQsciksdGhpcy5yZWNlaXZlcj1uLHRoaXMubmFtZT1pfXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdFByb3BlcnR5UmVhZCh0aGlzLHQpfX0sUT1jbGFzcyBleHRlbmRzIER7Y29uc3RydWN0b3IoZSx0LHIsbixpLGEpe3N1cGVyKGUsdCxyKSx0aGlzLnJlY2VpdmVyPW4sdGhpcy5uYW1lPWksdGhpcy52YWx1ZT1hfXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdFByb3BlcnR5V3JpdGUodGhpcyx0KX19LEg9Y2xhc3MgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIoZSx0LHIpLHRoaXMucmVjZWl2ZXI9bix0aGlzLm5hbWU9aX12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRTYWZlUHJvcGVydHlSZWFkKHRoaXMsdCl9fSxqPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscixuKXtzdXBlcihlLHQpLHRoaXMucmVjZWl2ZXI9cix0aGlzLmtleT1ufXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdEtleWVkUmVhZCh0aGlzLHQpfX0sej1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSx0LHIsbil7c3VwZXIoZSx0KSx0aGlzLnJlY2VpdmVyPXIsdGhpcy5rZXk9bn12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRTYWZlS2V5ZWRSZWFkKHRoaXMsdCl9fSxxPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscixuLGkpe3N1cGVyKGUsdCksdGhpcy5yZWNlaXZlcj1yLHRoaXMua2V5PW4sdGhpcy52YWx1ZT1pfXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdEtleWVkV3JpdGUodGhpcyx0KX19LFg9Y2xhc3MgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKGUsdCxyLG4saSxhKXtzdXBlcihlLHQsYSksdGhpcy5leHA9cix0aGlzLm5hbWU9bix0aGlzLmFyZ3M9aX12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRQaXBlKHRoaXMsdCl9fSxBPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KSx0aGlzLnZhbHVlPXJ9dmlzaXQoZSx0PW51bGwpe3JldHVybiBlLnZpc2l0TGl0ZXJhbFByaW1pdGl2ZSh0aGlzLHQpfX0sWj1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCksdGhpcy5leHByZXNzaW9ucz1yfXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdExpdGVyYWxBcnJheSh0aGlzLHQpfX0sSj1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSx0LHIsbil7c3VwZXIoZSx0KSx0aGlzLmtleXM9cix0aGlzLnZhbHVlcz1ufXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdExpdGVyYWxNYXAodGhpcyx0KX19LHdlPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscixuKXtzdXBlcihlLHQpLHRoaXMuc3RyaW5ncz1yLHRoaXMuZXhwcmVzc2lvbnM9bn12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRJbnRlcnBvbGF0aW9uKHRoaXMsdCl9fSwkPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscixuLGkpe3N1cGVyKGUsdCksdGhpcy5vcGVyYXRpb249cix0aGlzLmxlZnQ9bix0aGlzLnJpZ2h0PWl9dmlzaXQoZSx0PW51bGwpe3JldHVybiBlLnZpc2l0QmluYXJ5KHRoaXMsdCl9fSxLPWNsYXNzIHMgZXh0ZW5kcyAke3N0YXRpYyBjcmVhdGVNaW51cyhlLHQscil7cmV0dXJuIG5ldyBzKGUsdCxcIi1cIixyLFwiLVwiLG5ldyBBKGUsdCwwKSxyKX1zdGF0aWMgY3JlYXRlUGx1cyhlLHQscil7cmV0dXJuIG5ldyBzKGUsdCxcIitcIixyLFwiLVwiLHIsbmV3IEEoZSx0LDApKX1jb25zdHJ1Y3RvcihlLHQscixuLGksYSxoKXtzdXBlcihlLHQsaSxhLGgpLHRoaXMub3BlcmF0b3I9cix0aGlzLmV4cHI9bix0aGlzLmxlZnQ9bnVsbCx0aGlzLnJpZ2h0PW51bGwsdGhpcy5vcGVyYXRpb249bnVsbH12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRVbmFyeSE9PXZvaWQgMD9lLnZpc2l0VW5hcnkodGhpcyx0KTplLnZpc2l0QmluYXJ5KHRoaXMsdCl9fSxZPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KSx0aGlzLmV4cHJlc3Npb249cn12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRQcmVmaXhOb3QodGhpcyx0KX19LGVlPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KSx0aGlzLmV4cHJlc3Npb249cn12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXROb25OdWxsQXNzZXJ0KHRoaXMsdCl9fSx0ZT1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSx0LHIsbixpKXtzdXBlcihlLHQpLHRoaXMucmVjZWl2ZXI9cix0aGlzLmFyZ3M9bix0aGlzLmFyZ3VtZW50U3Bhbj1pfXZpc2l0KGUsdD1udWxsKXtyZXR1cm4gZS52aXNpdENhbGwodGhpcyx0KX19LHJlPWNsYXNzIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihlLHQscixuLGkpe3N1cGVyKGUsdCksdGhpcy5yZWNlaXZlcj1yLHRoaXMuYXJncz1uLHRoaXMuYXJndW1lbnRTcGFuPWl9dmlzaXQoZSx0PW51bGwpe3JldHVybiBlLnZpc2l0U2FmZUNhbGwodGhpcyx0KX19LEk9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dH19LFI9Y2xhc3MgZXh0ZW5kcyBTe2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIobmV3IFAoMCx0PT09bnVsbD8wOnQubGVuZ3RoKSxuZXcgSShuLHQ9PT1udWxsP246bit0Lmxlbmd0aCkpLHRoaXMuYXN0PWUsdGhpcy5zb3VyY2U9dCx0aGlzLmxvY2F0aW9uPXIsdGhpcy5lcnJvcnM9aX12aXNpdChlLHQ9bnVsbCl7cmV0dXJuIGUudmlzaXRBU1RXaXRoU291cmNlP2UudmlzaXRBU1RXaXRoU291cmNlKHRoaXMsdCk6dGhpcy5hc3QudmlzaXQoZSx0KX10b1N0cmluZygpe3JldHVybmAke3RoaXMuc291cmNlfSBpbiAke3RoaXMubG9jYXRpb259YH19LFQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuc291cmNlU3Bhbj1lLHRoaXMua2V5PXQsdGhpcy52YWx1ZT1yfX0sc2U9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuc291cmNlU3Bhbj1lLHRoaXMua2V5PXQsdGhpcy52YWx1ZT1yfX0seWU9Y2xhc3N7dmlzaXQoZSx0KXtlLnZpc2l0KHRoaXMsdCl9dmlzaXRVbmFyeShlLHQpe3RoaXMudmlzaXQoZS5leHByLHQpfXZpc2l0QmluYXJ5KGUsdCl7dGhpcy52aXNpdChlLmxlZnQsdCksdGhpcy52aXNpdChlLnJpZ2h0LHQpfXZpc2l0Q2hhaW4oZSx0KXt0aGlzLnZpc2l0QWxsKGUuZXhwcmVzc2lvbnMsdCl9dmlzaXRDb25kaXRpb25hbChlLHQpe3RoaXMudmlzaXQoZS5jb25kaXRpb24sdCksdGhpcy52aXNpdChlLnRydWVFeHAsdCksdGhpcy52aXNpdChlLmZhbHNlRXhwLHQpfXZpc2l0UGlwZShlLHQpe3RoaXMudmlzaXQoZS5leHAsdCksdGhpcy52aXNpdEFsbChlLmFyZ3MsdCl9dmlzaXRJbXBsaWNpdFJlY2VpdmVyKGUsdCl7fXZpc2l0VGhpc1JlY2VpdmVyKGUsdCl7fXZpc2l0SW50ZXJwb2xhdGlvbihlLHQpe3RoaXMudmlzaXRBbGwoZS5leHByZXNzaW9ucyx0KX12aXNpdEtleWVkUmVhZChlLHQpe3RoaXMudmlzaXQoZS5yZWNlaXZlcix0KSx0aGlzLnZpc2l0KGUua2V5LHQpfXZpc2l0S2V5ZWRXcml0ZShlLHQpe3RoaXMudmlzaXQoZS5yZWNlaXZlcix0KSx0aGlzLnZpc2l0KGUua2V5LHQpLHRoaXMudmlzaXQoZS52YWx1ZSx0KX12aXNpdExpdGVyYWxBcnJheShlLHQpe3RoaXMudmlzaXRBbGwoZS5leHByZXNzaW9ucyx0KX12aXNpdExpdGVyYWxNYXAoZSx0KXt0aGlzLnZpc2l0QWxsKGUudmFsdWVzLHQpfXZpc2l0TGl0ZXJhbFByaW1pdGl2ZShlLHQpe312aXNpdFByZWZpeE5vdChlLHQpe3RoaXMudmlzaXQoZS5leHByZXNzaW9uLHQpfXZpc2l0Tm9uTnVsbEFzc2VydChlLHQpe3RoaXMudmlzaXQoZS5leHByZXNzaW9uLHQpfXZpc2l0UHJvcGVydHlSZWFkKGUsdCl7dGhpcy52aXNpdChlLnJlY2VpdmVyLHQpfXZpc2l0UHJvcGVydHlXcml0ZShlLHQpe3RoaXMudmlzaXQoZS5yZWNlaXZlcix0KSx0aGlzLnZpc2l0KGUudmFsdWUsdCl9dmlzaXRTYWZlUHJvcGVydHlSZWFkKGUsdCl7dGhpcy52aXNpdChlLnJlY2VpdmVyLHQpfXZpc2l0U2FmZUtleWVkUmVhZChlLHQpe3RoaXMudmlzaXQoZS5yZWNlaXZlcix0KSx0aGlzLnZpc2l0KGUua2V5LHQpfXZpc2l0Q2FsbChlLHQpe3RoaXMudmlzaXQoZS5yZWNlaXZlcix0KSx0aGlzLnZpc2l0QWxsKGUuYXJncyx0KX12aXNpdFNhZmVDYWxsKGUsdCl7dGhpcy52aXNpdChlLnJlY2VpdmVyLHQpLHRoaXMudmlzaXRBbGwoZS5hcmdzLHQpfXZpc2l0QWxsKGUsdCl7Zm9yKGxldCByIG9mIGUpdGhpcy52aXNpdChyLHQpfX07dmFyIGV0OyhmdW5jdGlvbihzKXtzW3MuREVGQVVMVD0wXT1cIkRFRkFVTFRcIixzW3MuTElURVJBTF9BVFRSPTFdPVwiTElURVJBTF9BVFRSXCIsc1tzLkFOSU1BVElPTj0yXT1cIkFOSU1BVElPTlwifSkoZXR8fChldD17fSkpO2Z1bmN0aW9uIHR0KHMpe3JldHVybiBzPj05JiZzPD0zMnx8cz09MTYwfWZ1bmN0aW9uIGIocyl7cmV0dXJuIDQ4PD1zJiZzPD01N31mdW5jdGlvbiBydChzKXtyZXR1cm4gcz49OTcmJnM8PTEyMnx8cz49NjUmJnM8PTkwfWZ1bmN0aW9uIExlKHMpe3JldHVybiBzPT09Mzl8fHM9PT0zNHx8cz09PTk2fXZhciBkOyhmdW5jdGlvbihzKXtzW3MuQ2hhcmFjdGVyPTBdPVwiQ2hhcmFjdGVyXCIsc1tzLklkZW50aWZpZXI9MV09XCJJZGVudGlmaWVyXCIsc1tzLlByaXZhdGVJZGVudGlmaWVyPTJdPVwiUHJpdmF0ZUlkZW50aWZpZXJcIixzW3MuS2V5d29yZD0zXT1cIktleXdvcmRcIixzW3MuU3RyaW5nPTRdPVwiU3RyaW5nXCIsc1tzLk9wZXJhdG9yPTVdPVwiT3BlcmF0b3JcIixzW3MuTnVtYmVyPTZdPVwiTnVtYmVyXCIsc1tzLkVycm9yPTddPVwiRXJyb3JcIn0pKGR8fChkPXt9KSk7dmFyIHVyPVtcInZhclwiLFwibGV0XCIsXCJhc1wiLFwibnVsbFwiLFwidW5kZWZpbmVkXCIsXCJ0cnVlXCIsXCJmYWxzZVwiLFwiaWZcIixcImVsc2VcIixcInRoaXNcIl0seGU9Y2xhc3N7dG9rZW5pemUoZSl7bGV0IHQ9bmV3IEtlKGUpLHI9W10sbj10LnNjYW5Ub2tlbigpO2Zvcig7biE9bnVsbDspci5wdXNoKG4pLG49dC5zY2FuVG9rZW4oKTtyZXR1cm4gcn19LE49Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIsbixpKXt0aGlzLmluZGV4PWUsdGhpcy5lbmQ9dCx0aGlzLnR5cGU9cix0aGlzLm51bVZhbHVlPW4sdGhpcy5zdHJWYWx1ZT1pfWlzQ2hhcmFjdGVyKGUpe3JldHVybiB0aGlzLnR5cGU9PWQuQ2hhcmFjdGVyJiZ0aGlzLm51bVZhbHVlPT1lfWlzTnVtYmVyKCl7cmV0dXJuIHRoaXMudHlwZT09ZC5OdW1iZXJ9aXNTdHJpbmcoKXtyZXR1cm4gdGhpcy50eXBlPT1kLlN0cmluZ31pc09wZXJhdG9yKGUpe3JldHVybiB0aGlzLnR5cGU9PWQuT3BlcmF0b3ImJnRoaXMuc3RyVmFsdWU9PWV9aXNJZGVudGlmaWVyKCl7cmV0dXJuIHRoaXMudHlwZT09ZC5JZGVudGlmaWVyfWlzUHJpdmF0ZUlkZW50aWZpZXIoKXtyZXR1cm4gdGhpcy50eXBlPT1kLlByaXZhdGVJZGVudGlmaWVyfWlzS2V5d29yZCgpe3JldHVybiB0aGlzLnR5cGU9PWQuS2V5d29yZH1pc0tleXdvcmRMZXQoKXtyZXR1cm4gdGhpcy50eXBlPT1kLktleXdvcmQmJnRoaXMuc3RyVmFsdWU9PVwibGV0XCJ9aXNLZXl3b3JkQXMoKXtyZXR1cm4gdGhpcy50eXBlPT1kLktleXdvcmQmJnRoaXMuc3RyVmFsdWU9PVwiYXNcIn1pc0tleXdvcmROdWxsKCl7cmV0dXJuIHRoaXMudHlwZT09ZC5LZXl3b3JkJiZ0aGlzLnN0clZhbHVlPT1cIm51bGxcIn1pc0tleXdvcmRVbmRlZmluZWQoKXtyZXR1cm4gdGhpcy50eXBlPT1kLktleXdvcmQmJnRoaXMuc3RyVmFsdWU9PVwidW5kZWZpbmVkXCJ9aXNLZXl3b3JkVHJ1ZSgpe3JldHVybiB0aGlzLnR5cGU9PWQuS2V5d29yZCYmdGhpcy5zdHJWYWx1ZT09XCJ0cnVlXCJ9aXNLZXl3b3JkRmFsc2UoKXtyZXR1cm4gdGhpcy50eXBlPT1kLktleXdvcmQmJnRoaXMuc3RyVmFsdWU9PVwiZmFsc2VcIn1pc0tleXdvcmRUaGlzKCl7cmV0dXJuIHRoaXMudHlwZT09ZC5LZXl3b3JkJiZ0aGlzLnN0clZhbHVlPT1cInRoaXNcIn1pc0Vycm9yKCl7cmV0dXJuIHRoaXMudHlwZT09ZC5FcnJvcn10b051bWJlcigpe3JldHVybiB0aGlzLnR5cGU9PWQuTnVtYmVyP3RoaXMubnVtVmFsdWU6LTF9dG9TdHJpbmcoKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIGQuQ2hhcmFjdGVyOmNhc2UgZC5JZGVudGlmaWVyOmNhc2UgZC5LZXl3b3JkOmNhc2UgZC5PcGVyYXRvcjpjYXNlIGQuUHJpdmF0ZUlkZW50aWZpZXI6Y2FzZSBkLlN0cmluZzpjYXNlIGQuRXJyb3I6cmV0dXJuIHRoaXMuc3RyVmFsdWU7Y2FzZSBkLk51bWJlcjpyZXR1cm4gdGhpcy5udW1WYWx1ZS50b1N0cmluZygpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fX07ZnVuY3Rpb24gb3QocyxlLHQpe3JldHVybiBuZXcgTihzLGUsZC5DaGFyYWN0ZXIsdCxTdHJpbmcuZnJvbUNoYXJDb2RlKHQpKX1mdW5jdGlvbiBscihzLGUsdCl7cmV0dXJuIG5ldyBOKHMsZSxkLklkZW50aWZpZXIsMCx0KX1mdW5jdGlvbiB4cihzLGUsdCl7cmV0dXJuIG5ldyBOKHMsZSxkLlByaXZhdGVJZGVudGlmaWVyLDAsdCl9ZnVuY3Rpb24gZnIocyxlLHQpe3JldHVybiBuZXcgTihzLGUsZC5LZXl3b3JkLDAsdCl9ZnVuY3Rpb24gQmUocyxlLHQpe3JldHVybiBuZXcgTihzLGUsZC5PcGVyYXRvciwwLHQpfWZ1bmN0aW9uIGRyKHMsZSx0KXtyZXR1cm4gbmV3IE4ocyxlLGQuU3RyaW5nLDAsdCl9ZnVuY3Rpb24gdnIocyxlLHQpe3JldHVybiBuZXcgTihzLGUsZC5OdW1iZXIsdCxcIlwiKX1mdW5jdGlvbiBncihzLGUsdCl7cmV0dXJuIG5ldyBOKHMsZSxkLkVycm9yLDAsdCl9dmFyIENlPW5ldyBOKC0xLC0xLGQuQ2hhcmFjdGVyLDAsXCJcIiksS2U9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5pbnB1dD1lLHRoaXMucGVlaz0wLHRoaXMuaW5kZXg9LTEsdGhpcy5sZW5ndGg9ZS5sZW5ndGgsdGhpcy5hZHZhbmNlKCl9YWR2YW5jZSgpe3RoaXMucGVlaz0rK3RoaXMuaW5kZXg+PXRoaXMubGVuZ3RoPzA6dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuaW5kZXgpfXNjYW5Ub2tlbigpe2xldCBlPXRoaXMuaW5wdXQsdD10aGlzLmxlbmd0aCxyPXRoaXMucGVlayxuPXRoaXMuaW5kZXg7Zm9yKDtyPD0zMjspaWYoKytuPj10KXtyPTA7YnJlYWt9ZWxzZSByPWUuY2hhckNvZGVBdChuKTtpZih0aGlzLnBlZWs9cix0aGlzLmluZGV4PW4sbj49dClyZXR1cm4gbnVsbDtpZihjdChyKSlyZXR1cm4gdGhpcy5zY2FuSWRlbnRpZmllcigpO2lmKGIocikpcmV0dXJuIHRoaXMuc2Nhbk51bWJlcihuKTtsZXQgaT1uO3N3aXRjaChyKXtjYXNlIDQ2OnJldHVybiB0aGlzLmFkdmFuY2UoKSxiKHRoaXMucGVlayk/dGhpcy5zY2FuTnVtYmVyKGkpOm90KGksdGhpcy5pbmRleCw0Nik7Y2FzZSA0MDpjYXNlIDQxOmNhc2UgMTIzOmNhc2UgMTI1OmNhc2UgOTE6Y2FzZSA5MzpjYXNlIDQ0OmNhc2UgNTg6Y2FzZSA1OTpyZXR1cm4gdGhpcy5zY2FuQ2hhcmFjdGVyKGkscik7Y2FzZSAzOTpjYXNlIDM0OnJldHVybiB0aGlzLnNjYW5TdHJpbmcoKTtjYXNlIDM1OnJldHVybiB0aGlzLnNjYW5Qcml2YXRlSWRlbnRpZmllcigpO2Nhc2UgNDM6Y2FzZSA0NTpjYXNlIDQyOmNhc2UgNDc6Y2FzZSAzNzpjYXNlIDk0OnJldHVybiB0aGlzLnNjYW5PcGVyYXRvcihpLFN0cmluZy5mcm9tQ2hhckNvZGUocikpO2Nhc2UgNjM6cmV0dXJuIHRoaXMuc2NhblF1ZXN0aW9uKGkpO2Nhc2UgNjA6Y2FzZSA2MjpyZXR1cm4gdGhpcy5zY2FuQ29tcGxleE9wZXJhdG9yKGksU3RyaW5nLmZyb21DaGFyQ29kZShyKSw2MSxcIj1cIik7Y2FzZSAzMzpjYXNlIDYxOnJldHVybiB0aGlzLnNjYW5Db21wbGV4T3BlcmF0b3IoaSxTdHJpbmcuZnJvbUNoYXJDb2RlKHIpLDYxLFwiPVwiLDYxLFwiPVwiKTtjYXNlIDM4OnJldHVybiB0aGlzLnNjYW5Db21wbGV4T3BlcmF0b3IoaSxcIiZcIiwzOCxcIiZcIik7Y2FzZSAxMjQ6cmV0dXJuIHRoaXMuc2NhbkNvbXBsZXhPcGVyYXRvcihpLFwifFwiLDEyNCxcInxcIik7Y2FzZSAxNjA6Zm9yKDt0dCh0aGlzLnBlZWspOyl0aGlzLmFkdmFuY2UoKTtyZXR1cm4gdGhpcy5zY2FuVG9rZW4oKX1yZXR1cm4gdGhpcy5hZHZhbmNlKCksdGhpcy5lcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgWyR7U3RyaW5nLmZyb21DaGFyQ29kZShyKX1dYCwwKX1zY2FuQ2hhcmFjdGVyKGUsdCl7cmV0dXJuIHRoaXMuYWR2YW5jZSgpLG90KGUsdGhpcy5pbmRleCx0KX1zY2FuT3BlcmF0b3IoZSx0KXtyZXR1cm4gdGhpcy5hZHZhbmNlKCksQmUoZSx0aGlzLmluZGV4LHQpfXNjYW5Db21wbGV4T3BlcmF0b3IoZSx0LHIsbixpLGEpe3RoaXMuYWR2YW5jZSgpO2xldCBoPXQ7cmV0dXJuIHRoaXMucGVlaz09ciYmKHRoaXMuYWR2YW5jZSgpLGgrPW4pLGkhPW51bGwmJnRoaXMucGVlaz09aSYmKHRoaXMuYWR2YW5jZSgpLGgrPWEpLEJlKGUsdGhpcy5pbmRleCxoKX1zY2FuSWRlbnRpZmllcigpe2xldCBlPXRoaXMuaW5kZXg7Zm9yKHRoaXMuYWR2YW5jZSgpO2h0KHRoaXMucGVlayk7KXRoaXMuYWR2YW5jZSgpO2xldCB0PXRoaXMuaW5wdXQuc3Vic3RyaW5nKGUsdGhpcy5pbmRleCk7cmV0dXJuIHVyLmluZGV4T2YodCk+LTE/ZnIoZSx0aGlzLmluZGV4LHQpOmxyKGUsdGhpcy5pbmRleCx0KX1zY2FuUHJpdmF0ZUlkZW50aWZpZXIoKXtsZXQgZT10aGlzLmluZGV4O2lmKHRoaXMuYWR2YW5jZSgpLCFjdCh0aGlzLnBlZWspKXJldHVybiB0aGlzLmVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgWyNdXCIsLTEpO2Zvcig7aHQodGhpcy5wZWVrKTspdGhpcy5hZHZhbmNlKCk7bGV0IHQ9dGhpcy5pbnB1dC5zdWJzdHJpbmcoZSx0aGlzLmluZGV4KTtyZXR1cm4geHIoZSx0aGlzLmluZGV4LHQpfXNjYW5OdW1iZXIoZSl7bGV0IHQ9dGhpcy5pbmRleD09PWUscj0hMTtmb3IodGhpcy5hZHZhbmNlKCk7Oyl7aWYoIWIodGhpcy5wZWVrKSlpZih0aGlzLnBlZWs9PT05NSl7aWYoIWIodGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuaW5kZXgtMSkpfHwhYih0aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5pbmRleCsxKSkpcmV0dXJuIHRoaXMuZXJyb3IoXCJJbnZhbGlkIG51bWVyaWMgc2VwYXJhdG9yXCIsMCk7cj0hMH1lbHNlIGlmKHRoaXMucGVlaz09PTQ2KXQ9ITE7ZWxzZSBpZihtcih0aGlzLnBlZWspKXtpZih0aGlzLmFkdmFuY2UoKSxTcih0aGlzLnBlZWspJiZ0aGlzLmFkdmFuY2UoKSwhYih0aGlzLnBlZWspKXJldHVybiB0aGlzLmVycm9yKFwiSW52YWxpZCBleHBvbmVudFwiLC0xKTt0PSExfWVsc2UgYnJlYWs7dGhpcy5hZHZhbmNlKCl9bGV0IG49dGhpcy5pbnB1dC5zdWJzdHJpbmcoZSx0aGlzLmluZGV4KTtyJiYobj1uLnJlcGxhY2UoL18vZyxcIlwiKSk7bGV0IGk9dD95cihuKTpwYXJzZUZsb2F0KG4pO3JldHVybiB2cihlLHRoaXMuaW5kZXgsaSl9c2NhblN0cmluZygpe2xldCBlPXRoaXMuaW5kZXgsdD10aGlzLnBlZWs7dGhpcy5hZHZhbmNlKCk7bGV0IHI9XCJcIixuPXRoaXMuaW5kZXgsaT10aGlzLmlucHV0O2Zvcig7dGhpcy5wZWVrIT10OylpZih0aGlzLnBlZWs9PTkyKXtyKz1pLnN1YnN0cmluZyhuLHRoaXMuaW5kZXgpO2xldCBoO2lmKHRoaXMuYWR2YW5jZSgpLHRoaXMucGVlaz09MTE3KXtsZXQgdj1pLnN1YnN0cmluZyh0aGlzLmluZGV4KzEsdGhpcy5pbmRleCs1KTtpZigvXlswLTlhLWZdKyQvaS50ZXN0KHYpKWg9cGFyc2VJbnQodiwxNik7ZWxzZSByZXR1cm4gdGhpcy5lcnJvcihgSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFxcXHUke3Z9XWAsMCk7Zm9yKGxldCBmPTA7Zjw1O2YrKyl0aGlzLmFkdmFuY2UoKX1lbHNlIGg9d3IodGhpcy5wZWVrKSx0aGlzLmFkdmFuY2UoKTtyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGgpLG49dGhpcy5pbmRleH1lbHNle2lmKHRoaXMucGVlaz09MClyZXR1cm4gdGhpcy5lcnJvcihcIlVudGVybWluYXRlZCBxdW90ZVwiLDApO3RoaXMuYWR2YW5jZSgpfWxldCBhPWkuc3Vic3RyaW5nKG4sdGhpcy5pbmRleCk7cmV0dXJuIHRoaXMuYWR2YW5jZSgpLGRyKGUsdGhpcy5pbmRleCxyK2EpfXNjYW5RdWVzdGlvbihlKXt0aGlzLmFkdmFuY2UoKTtsZXQgdD1cIj9cIjtyZXR1cm4odGhpcy5wZWVrPT09NjN8fHRoaXMucGVlaz09PTQ2KSYmKHQrPXRoaXMucGVlaz09PTQ2P1wiLlwiOlwiP1wiLHRoaXMuYWR2YW5jZSgpKSxCZShlLHRoaXMuaW5kZXgsdCl9ZXJyb3IoZSx0KXtsZXQgcj10aGlzLmluZGV4K3Q7cmV0dXJuIGdyKHIsdGhpcy5pbmRleCxgTGV4ZXIgRXJyb3I6ICR7ZX0gYXQgY29sdW1uICR7cn0gaW4gZXhwcmVzc2lvbiBbJHt0aGlzLmlucHV0fV1gKX19O2Z1bmN0aW9uIGN0KHMpe3JldHVybiA5Nzw9cyYmczw9MTIyfHw2NTw9cyYmczw9OTB8fHM9PTk1fHxzPT0zNn1mdW5jdGlvbiBodChzKXtyZXR1cm4gcnQocyl8fGIocyl8fHM9PTk1fHxzPT0zNn1mdW5jdGlvbiBtcihzKXtyZXR1cm4gcz09MTAxfHxzPT02OX1mdW5jdGlvbiBTcihzKXtyZXR1cm4gcz09NDV8fHM9PTQzfWZ1bmN0aW9uIHdyKHMpe3N3aXRjaChzKXtjYXNlIDExMDpyZXR1cm4gMTA7Y2FzZSAxMDI6cmV0dXJuIDEyO2Nhc2UgMTE0OnJldHVybiAxMztjYXNlIDExNjpyZXR1cm4gOTtjYXNlIDExODpyZXR1cm4gMTE7ZGVmYXVsdDpyZXR1cm4gc319ZnVuY3Rpb24geXIocyl7bGV0IGU9cGFyc2VJbnQocyk7aWYoaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiK3MpO3JldHVybiBlfXZhciBFcj1bL15cXHMqJC8sL1s8Pl0vLC9eW3t9XSQvLC8mKCN8W2Etel0pL2ksL15cXC9cXC8vXTtmdW5jdGlvbiB4dChzLGUpe2lmKGUhPW51bGwmJiEoQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg9PTIpKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJyR7c30nIHRvIGJlIGFuIGFycmF5LCBbc3RhcnQsIGVuZF0uYCk7aWYoZSE9bnVsbCl7bGV0IHQ9ZVswXSxyPWVbMV07RXIuZm9yRWFjaChuPT57aWYobi50ZXN0KHQpfHxuLnRlc3QocikpdGhyb3cgbmV3IEVycm9yKGBbJyR7dH0nLCAnJHtyfSddIGNvbnRhaW5zIHVudXNhYmxlIGludGVycG9sYXRpb24gc3ltYm9sLmApfSl9fXZhciBfZT1jbGFzcyBze3N0YXRpYyBmcm9tQXJyYXkoZSl7cmV0dXJuIGU/KHh0KFwiaW50ZXJwb2xhdGlvblwiLGUpLG5ldyBzKGVbMF0sZVsxXSkpOkZ9Y29uc3RydWN0b3IoZSx0KXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dH19LEY9bmV3IF9lKFwie3tcIixcIn19XCIpO3ZhciBNZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5zdHJpbmdzPWUsdGhpcy5leHByZXNzaW9ucz10LHRoaXMub2Zmc2V0cz1yfX0sRmU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudGVtcGxhdGVCaW5kaW5ncz1lLHRoaXMud2FybmluZ3M9dCx0aGlzLmVycm9ycz1yfX0sdmU9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fbGV4ZXI9ZSx0aGlzLmVycm9ycz1bXX1wYXJzZUFjdGlvbihlLHQscixuLGk9Ril7dGhpcy5fY2hlY2tOb0ludGVycG9sYXRpb24oZSxyLGkpO2xldCBhPXRoaXMuX3N0cmlwQ29tbWVudHMoZSksaD10aGlzLl9sZXhlci50b2tlbml6ZShhKSx2PTE7dCYmKHZ8PTIpO2xldCBmPW5ldyBVKGUscixuLGgsdix0aGlzLmVycm9ycywwKS5wYXJzZUNoYWluKCk7cmV0dXJuIG5ldyBSKGYsZSxyLG4sdGhpcy5lcnJvcnMpfXBhcnNlQmluZGluZyhlLHQscixuPUYpe2xldCBpPXRoaXMuX3BhcnNlQmluZGluZ0FzdChlLHQscixuKTtyZXR1cm4gbmV3IFIoaSxlLHQscix0aGlzLmVycm9ycyl9Y2hlY2tTaW1wbGVFeHByZXNzaW9uKGUpe2xldCB0PW5ldyBVZTtyZXR1cm4gZS52aXNpdCh0KSx0LmVycm9yc31wYXJzZVNpbXBsZUJpbmRpbmcoZSx0LHIsbj1GKXtsZXQgaT10aGlzLl9wYXJzZUJpbmRpbmdBc3QoZSx0LHIsbiksYT10aGlzLmNoZWNrU2ltcGxlRXhwcmVzc2lvbihpKTtyZXR1cm4gYS5sZW5ndGg+MCYmdGhpcy5fcmVwb3J0RXJyb3IoYEhvc3QgYmluZGluZyBleHByZXNzaW9uIGNhbm5vdCBjb250YWluICR7YS5qb2luKFwiIFwiKX1gLGUsdCksbmV3IFIoaSxlLHQscix0aGlzLmVycm9ycyl9X3JlcG9ydEVycm9yKGUsdCxyLG4pe3RoaXMuZXJyb3JzLnB1c2gobmV3IEcoZSx0LHIsbikpfV9wYXJzZUJpbmRpbmdBc3QoZSx0LHIsbil7dGhpcy5fY2hlY2tOb0ludGVycG9sYXRpb24oZSx0LG4pO2xldCBpPXRoaXMuX3N0cmlwQ29tbWVudHMoZSksYT10aGlzLl9sZXhlci50b2tlbml6ZShpKTtyZXR1cm4gbmV3IFUoZSx0LHIsYSwwLHRoaXMuZXJyb3JzLDApLnBhcnNlQ2hhaW4oKX1wYXJzZVRlbXBsYXRlQmluZGluZ3MoZSx0LHIsbixpKXtsZXQgYT10aGlzLl9sZXhlci50b2tlbml6ZSh0KTtyZXR1cm4gbmV3IFUodCxyLGksYSwwLHRoaXMuZXJyb3JzLDApLnBhcnNlVGVtcGxhdGVCaW5kaW5ncyh7c291cmNlOmUsc3BhbjpuZXcgSShuLG4rZS5sZW5ndGgpfSl9cGFyc2VJbnRlcnBvbGF0aW9uKGUsdCxyLG4saT1GKXtsZXR7c3RyaW5nczphLGV4cHJlc3Npb25zOmgsb2Zmc2V0czp2fT10aGlzLnNwbGl0SW50ZXJwb2xhdGlvbihlLHQsbixpKTtpZihoLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IGY9W107Zm9yKGxldCB3PTA7dzxoLmxlbmd0aDsrK3cpe2xldCBrPWhbd10udGV4dCxDPXRoaXMuX3N0cmlwQ29tbWVudHMoaykseT10aGlzLl9sZXhlci50b2tlbml6ZShDKSxtPW5ldyBVKGUsdCxyLHksMCx0aGlzLmVycm9ycyx2W3ddKS5wYXJzZUNoYWluKCk7Zi5wdXNoKG0pfXJldHVybiB0aGlzLmNyZWF0ZUludGVycG9sYXRpb25Bc3QoYS5tYXAodz0+dy50ZXh0KSxmLGUsdCxyKX1wYXJzZUludGVycG9sYXRpb25FeHByZXNzaW9uKGUsdCxyKXtsZXQgbj10aGlzLl9zdHJpcENvbW1lbnRzKGUpLGk9dGhpcy5fbGV4ZXIudG9rZW5pemUobiksYT1uZXcgVShlLHQscixpLDAsdGhpcy5lcnJvcnMsMCkucGFyc2VDaGFpbigpLGg9W1wiXCIsXCJcIl07cmV0dXJuIHRoaXMuY3JlYXRlSW50ZXJwb2xhdGlvbkFzdChoLFthXSxlLHQscil9Y3JlYXRlSW50ZXJwb2xhdGlvbkFzdChlLHQscixuLGkpe2xldCBhPW5ldyBQKDAsci5sZW5ndGgpLGg9bmV3IHdlKGEsYS50b0Fic29sdXRlKGkpLGUsdCk7cmV0dXJuIG5ldyBSKGgscixuLGksdGhpcy5lcnJvcnMpfXNwbGl0SW50ZXJwb2xhdGlvbihlLHQscixuPUYpe2xldCBpPVtdLGE9W10saD1bXSx2PXI/QXIocik6bnVsbCxmPTAsdz0hMSxrPSExLHtzdGFydDpDLGVuZDp5fT1uO2Zvcig7ZjxlLmxlbmd0aDspaWYodyl7bGV0IG09ZixjPW0rQy5sZW5ndGgsbz10aGlzLl9nZXRJbnRlcnBvbGF0aW9uRW5kSW5kZXgoZSx5LGMpO2lmKG89PT0tMSl7dz0hMSxrPSEwO2JyZWFrfWxldCB4PW8reS5sZW5ndGgscD1lLnN1YnN0cmluZyhjLG8pO3AudHJpbSgpLmxlbmd0aD09PTAmJnRoaXMuX3JlcG9ydEVycm9yKFwiQmxhbmsgZXhwcmVzc2lvbnMgYXJlIG5vdCBhbGxvd2VkIGluIGludGVycG9sYXRlZCBzdHJpbmdzXCIsZSxgYXQgY29sdW1uICR7Zn0gaW5gLHQpLGEucHVzaCh7dGV4dDpwLHN0YXJ0Om0sZW5kOnh9KTtsZXQgZz0oKHY9PW51bGw/dm9pZCAwOnYuZ2V0KG0pKT8/bSkrQy5sZW5ndGg7aC5wdXNoKGcpLGY9eCx3PSExfWVsc2V7bGV0IG09ZjtmPWUuaW5kZXhPZihDLGYpLGY9PT0tMSYmKGY9ZS5sZW5ndGgpO2xldCBjPWUuc3Vic3RyaW5nKG0sZik7aS5wdXNoKHt0ZXh0OmMsc3RhcnQ6bSxlbmQ6Zn0pLHc9ITB9aWYoIXcpaWYoayl7bGV0IG09aVtpLmxlbmd0aC0xXTttLnRleHQrPWUuc3Vic3RyaW5nKGYpLG0uZW5kPWUubGVuZ3RofWVsc2UgaS5wdXNoKHt0ZXh0OmUuc3Vic3RyaW5nKGYpLHN0YXJ0OmYsZW5kOmUubGVuZ3RofSk7cmV0dXJuIG5ldyBNZShpLGEsaCl9d3JhcExpdGVyYWxQcmltaXRpdmUoZSx0LHIpe2xldCBuPW5ldyBQKDAsZT09bnVsbD8wOmUubGVuZ3RoKTtyZXR1cm4gbmV3IFIobmV3IEEobixuLnRvQWJzb2x1dGUociksZSksZSx0LHIsdGhpcy5lcnJvcnMpfV9zdHJpcENvbW1lbnRzKGUpe2xldCB0PXRoaXMuX2NvbW1lbnRTdGFydChlKTtyZXR1cm4gdCE9bnVsbD9lLnN1YnN0cmluZygwLHQpOmV9X2NvbW1lbnRTdGFydChlKXtsZXQgdD1udWxsO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtMTtyKyspe2xldCBuPWUuY2hhckNvZGVBdChyKSxpPWUuY2hhckNvZGVBdChyKzEpO2lmKG49PT00NyYmaT09NDcmJnQ9PW51bGwpcmV0dXJuIHI7dD09PW4/dD1udWxsOnQ9PW51bGwmJkxlKG4pJiYodD1uKX1yZXR1cm4gbnVsbH1fY2hlY2tOb0ludGVycG9sYXRpb24oZSx0LHtzdGFydDpyLGVuZDpufSl7bGV0IGk9LTEsYT0tMTtmb3IobGV0IGggb2YgdGhpcy5fZm9yRWFjaFVucXVvdGVkQ2hhcihlLDApKWlmKGk9PT0tMSllLnN0YXJ0c1dpdGgocikmJihpPWgpO2Vsc2UgaWYoYT10aGlzLl9nZXRJbnRlcnBvbGF0aW9uRW5kSW5kZXgoZSxuLGgpLGE+LTEpYnJlYWs7aT4tMSYmYT4tMSYmdGhpcy5fcmVwb3J0RXJyb3IoYEdvdCBpbnRlcnBvbGF0aW9uICgke3J9JHtufSkgd2hlcmUgZXhwcmVzc2lvbiB3YXMgZXhwZWN0ZWRgLGUsYGF0IGNvbHVtbiAke2l9IGluYCx0KX1fZ2V0SW50ZXJwb2xhdGlvbkVuZEluZGV4KGUsdCxyKXtmb3IobGV0IG4gb2YgdGhpcy5fZm9yRWFjaFVucXVvdGVkQ2hhcihlLHIpKXtpZihlLnN0YXJ0c1dpdGgodCxuKSlyZXR1cm4gbjtpZihlLnN0YXJ0c1dpdGgoXCIvL1wiLG4pKXJldHVybiBlLmluZGV4T2YodCxuKX1yZXR1cm4tMX0qX2ZvckVhY2hVbnF1b3RlZENoYXIoZSx0KXtsZXQgcj1udWxsLG49MDtmb3IobGV0IGk9dDtpPGUubGVuZ3RoO2krKyl7bGV0IGE9ZVtpXTtMZShlLmNoYXJDb2RlQXQoaSkpJiYocj09PW51bGx8fHI9PT1hKSYmbiUyPT09MD9yPXI9PT1udWxsP2E6bnVsbDpyPT09bnVsbCYmKHlpZWxkIGkpLG49YT09PVwiXFxcXFwiP24rMTowfX19LGhlOyhmdW5jdGlvbihzKXtzW3MuTm9uZT0wXT1cIk5vbmVcIixzW3MuV3JpdGFibGU9MV09XCJXcml0YWJsZVwifSkoaGV8fChoZT17fSkpO3ZhciBVPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyLG4saSxhLGgpe3RoaXMuaW5wdXQ9ZSx0aGlzLmxvY2F0aW9uPXQsdGhpcy5hYnNvbHV0ZU9mZnNldD1yLHRoaXMudG9rZW5zPW4sdGhpcy5wYXJzZUZsYWdzPWksdGhpcy5lcnJvcnM9YSx0aGlzLm9mZnNldD1oLHRoaXMucnBhcmVuc0V4cGVjdGVkPTAsdGhpcy5yYnJhY2tldHNFeHBlY3RlZD0wLHRoaXMucmJyYWNlc0V4cGVjdGVkPTAsdGhpcy5jb250ZXh0PWhlLk5vbmUsdGhpcy5zb3VyY2VTcGFuQ2FjaGU9bmV3IE1hcCx0aGlzLmluZGV4PTB9cGVlayhlKXtsZXQgdD10aGlzLmluZGV4K2U7cmV0dXJuIHQ8dGhpcy50b2tlbnMubGVuZ3RoP3RoaXMudG9rZW5zW3RdOkNlfWdldCBuZXh0KCl7cmV0dXJuIHRoaXMucGVlaygwKX1nZXQgYXRFT0YoKXtyZXR1cm4gdGhpcy5pbmRleD49dGhpcy50b2tlbnMubGVuZ3RofWdldCBpbnB1dEluZGV4KCl7cmV0dXJuIHRoaXMuYXRFT0Y/dGhpcy5jdXJyZW50RW5kSW5kZXg6dGhpcy5uZXh0LmluZGV4K3RoaXMub2Zmc2V0fWdldCBjdXJyZW50RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleD4wP3RoaXMucGVlaygtMSkuZW5kK3RoaXMub2Zmc2V0OnRoaXMudG9rZW5zLmxlbmd0aD09PTA/dGhpcy5pbnB1dC5sZW5ndGgrdGhpcy5vZmZzZXQ6dGhpcy5uZXh0LmluZGV4K3RoaXMub2Zmc2V0fWdldCBjdXJyZW50QWJzb2x1dGVPZmZzZXQoKXtyZXR1cm4gdGhpcy5hYnNvbHV0ZU9mZnNldCt0aGlzLmlucHV0SW5kZXh9c3BhbihlLHQpe2xldCByPXRoaXMuY3VycmVudEVuZEluZGV4O2lmKHQhPT12b2lkIDAmJnQ+dGhpcy5jdXJyZW50RW5kSW5kZXgmJihyPXQpLGU+cil7bGV0IG49cjtyPWUsZT1ufXJldHVybiBuZXcgUChlLHIpfXNvdXJjZVNwYW4oZSx0KXtsZXQgcj1gJHtlfUAke3RoaXMuaW5wdXRJbmRleH06JHt0fWA7cmV0dXJuIHRoaXMuc291cmNlU3BhbkNhY2hlLmhhcyhyKXx8dGhpcy5zb3VyY2VTcGFuQ2FjaGUuc2V0KHIsdGhpcy5zcGFuKGUsdCkudG9BYnNvbHV0ZSh0aGlzLmFic29sdXRlT2Zmc2V0KSksdGhpcy5zb3VyY2VTcGFuQ2FjaGUuZ2V0KHIpfWFkdmFuY2UoKXt0aGlzLmluZGV4Kyt9d2l0aENvbnRleHQoZSx0KXt0aGlzLmNvbnRleHR8PWU7bGV0IHI9dCgpO3JldHVybiB0aGlzLmNvbnRleHRePWUscn1jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoZSl7cmV0dXJuIHRoaXMubmV4dC5pc0NoYXJhY3RlcihlKT8odGhpcy5hZHZhbmNlKCksITApOiExfXBlZWtLZXl3b3JkTGV0KCl7cmV0dXJuIHRoaXMubmV4dC5pc0tleXdvcmRMZXQoKX1wZWVrS2V5d29yZEFzKCl7cmV0dXJuIHRoaXMubmV4dC5pc0tleXdvcmRBcygpfWV4cGVjdENoYXJhY3RlcihlKXt0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3RlcihlKXx8dGhpcy5lcnJvcihgTWlzc2luZyBleHBlY3RlZCAke1N0cmluZy5mcm9tQ2hhckNvZGUoZSl9YCl9Y29uc3VtZU9wdGlvbmFsT3BlcmF0b3IoZSl7cmV0dXJuIHRoaXMubmV4dC5pc09wZXJhdG9yKGUpPyh0aGlzLmFkdmFuY2UoKSwhMCk6ITF9ZXhwZWN0T3BlcmF0b3IoZSl7dGhpcy5jb25zdW1lT3B0aW9uYWxPcGVyYXRvcihlKXx8dGhpcy5lcnJvcihgTWlzc2luZyBleHBlY3RlZCBvcGVyYXRvciAke2V9YCl9cHJldHR5UHJpbnRUb2tlbihlKXtyZXR1cm4gZT09PUNlP1wiZW5kIG9mIGlucHV0XCI6YHRva2VuICR7ZX1gfWV4cGVjdElkZW50aWZpZXJPcktleXdvcmQoKXtsZXQgZT10aGlzLm5leHQ7cmV0dXJuIWUuaXNJZGVudGlmaWVyKCkmJiFlLmlzS2V5d29yZCgpPyhlLmlzUHJpdmF0ZUlkZW50aWZpZXIoKT90aGlzLl9yZXBvcnRFcnJvckZvclByaXZhdGVJZGVudGlmaWVyKGUsXCJleHBlY3RlZCBpZGVudGlmaWVyIG9yIGtleXdvcmRcIik6dGhpcy5lcnJvcihgVW5leHBlY3RlZCAke3RoaXMucHJldHR5UHJpbnRUb2tlbihlKX0sIGV4cGVjdGVkIGlkZW50aWZpZXIgb3Iga2V5d29yZGApLG51bGwpOih0aGlzLmFkdmFuY2UoKSxlLnRvU3RyaW5nKCkpfWV4cGVjdElkZW50aWZpZXJPcktleXdvcmRPclN0cmluZygpe2xldCBlPXRoaXMubmV4dDtyZXR1cm4hZS5pc0lkZW50aWZpZXIoKSYmIWUuaXNLZXl3b3JkKCkmJiFlLmlzU3RyaW5nKCk/KGUuaXNQcml2YXRlSWRlbnRpZmllcigpP3RoaXMuX3JlcG9ydEVycm9yRm9yUHJpdmF0ZUlkZW50aWZpZXIoZSxcImV4cGVjdGVkIGlkZW50aWZpZXIsIGtleXdvcmQgb3Igc3RyaW5nXCIpOnRoaXMuZXJyb3IoYFVuZXhwZWN0ZWQgJHt0aGlzLnByZXR0eVByaW50VG9rZW4oZSl9LCBleHBlY3RlZCBpZGVudGlmaWVyLCBrZXl3b3JkLCBvciBzdHJpbmdgKSxcIlwiKToodGhpcy5hZHZhbmNlKCksZS50b1N0cmluZygpKX1wYXJzZUNoYWluKCl7bGV0IGU9W10sdD10aGlzLmlucHV0SW5kZXg7Zm9yKDt0aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aDspe2xldCByPXRoaXMucGFyc2VQaXBlKCk7aWYoZS5wdXNoKHIpLHRoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDU5KSlmb3IodGhpcy5wYXJzZUZsYWdzJjF8fHRoaXMuZXJyb3IoXCJCaW5kaW5nIGV4cHJlc3Npb24gY2Fubm90IGNvbnRhaW4gY2hhaW5lZCBleHByZXNzaW9uXCIpO3RoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDU5KTspO2Vsc2UgaWYodGhpcy5pbmRleDx0aGlzLnRva2Vucy5sZW5ndGgpe2xldCBuPXRoaXMuaW5kZXg7aWYodGhpcy5lcnJvcihgVW5leHBlY3RlZCB0b2tlbiAnJHt0aGlzLm5leHR9J2ApLHRoaXMuaW5kZXg9PT1uKWJyZWFrfX1pZihlLmxlbmd0aD09PTApe2xldCByPXRoaXMub2Zmc2V0LG49dGhpcy5vZmZzZXQrdGhpcy5pbnB1dC5sZW5ndGg7cmV0dXJuIG5ldyBFKHRoaXMuc3BhbihyLG4pLHRoaXMuc291cmNlU3BhbihyLG4pKX1yZXR1cm4gZS5sZW5ndGg9PTE/ZVswXTpuZXcgVih0aGlzLnNwYW4odCksdGhpcy5zb3VyY2VTcGFuKHQpLGUpfXBhcnNlUGlwZSgpe2xldCBlPXRoaXMuaW5wdXRJbmRleCx0PXRoaXMucGFyc2VFeHByZXNzaW9uKCk7aWYodGhpcy5jb25zdW1lT3B0aW9uYWxPcGVyYXRvcihcInxcIikpe3RoaXMucGFyc2VGbGFncyYxJiZ0aGlzLmVycm9yKFwiQ2Fubm90IGhhdmUgYSBwaXBlIGluIGFuIGFjdGlvbiBleHByZXNzaW9uXCIpO2Rve2xldCByPXRoaXMuaW5wdXRJbmRleCxuPXRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZCgpLGksYTtuIT09bnVsbD9pPXRoaXMuc291cmNlU3BhbihyKToobj1cIlwiLGE9dGhpcy5uZXh0LmluZGV4IT09LTE/dGhpcy5uZXh0LmluZGV4OnRoaXMuaW5wdXQubGVuZ3RoK3RoaXMub2Zmc2V0LGk9bmV3IFAoYSxhKS50b0Fic29sdXRlKHRoaXMuYWJzb2x1dGVPZmZzZXQpKTtsZXQgaD1bXTtmb3IoO3RoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDU4KTspaC5wdXNoKHRoaXMucGFyc2VFeHByZXNzaW9uKCkpO3Q9bmV3IFgodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlLGEpLHQsbixoLGkpfXdoaWxlKHRoaXMuY29uc3VtZU9wdGlvbmFsT3BlcmF0b3IoXCJ8XCIpKX1yZXR1cm4gdH1wYXJzZUV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5wYXJzZUNvbmRpdGlvbmFsKCl9cGFyc2VDb25kaXRpb25hbCgpe2xldCBlPXRoaXMuaW5wdXRJbmRleCx0PXRoaXMucGFyc2VMb2dpY2FsT3IoKTtpZih0aGlzLmNvbnN1bWVPcHRpb25hbE9wZXJhdG9yKFwiP1wiKSl7bGV0IHI9dGhpcy5wYXJzZVBpcGUoKSxuO2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDU4KSluPXRoaXMucGFyc2VQaXBlKCk7ZWxzZXtsZXQgaT10aGlzLmlucHV0SW5kZXgsYT10aGlzLmlucHV0LnN1YnN0cmluZyhlLGkpO3RoaXMuZXJyb3IoYENvbmRpdGlvbmFsIGV4cHJlc3Npb24gJHthfSByZXF1aXJlcyBhbGwgMyBleHByZXNzaW9uc2ApLG49bmV3IEUodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSl9cmV0dXJuIG5ldyBXKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSksdCxyLG4pfWVsc2UgcmV0dXJuIHR9cGFyc2VMb2dpY2FsT3IoKXtsZXQgZT10aGlzLmlucHV0SW5kZXgsdD10aGlzLnBhcnNlTG9naWNhbEFuZCgpO2Zvcig7dGhpcy5jb25zdW1lT3B0aW9uYWxPcGVyYXRvcihcInx8XCIpOyl7bGV0IHI9dGhpcy5wYXJzZUxvZ2ljYWxBbmQoKTt0PW5ldyAkKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSksXCJ8fFwiLHQscil9cmV0dXJuIHR9cGFyc2VMb2dpY2FsQW5kKCl7bGV0IGU9dGhpcy5pbnB1dEluZGV4LHQ9dGhpcy5wYXJzZU51bGxpc2hDb2FsZXNjaW5nKCk7Zm9yKDt0aGlzLmNvbnN1bWVPcHRpb25hbE9wZXJhdG9yKFwiJiZcIik7KXtsZXQgcj10aGlzLnBhcnNlTnVsbGlzaENvYWxlc2NpbmcoKTt0PW5ldyAkKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSksXCImJlwiLHQscil9cmV0dXJuIHR9cGFyc2VOdWxsaXNoQ29hbGVzY2luZygpe2xldCBlPXRoaXMuaW5wdXRJbmRleCx0PXRoaXMucGFyc2VFcXVhbGl0eSgpO2Zvcig7dGhpcy5jb25zdW1lT3B0aW9uYWxPcGVyYXRvcihcIj8/XCIpOyl7bGV0IHI9dGhpcy5wYXJzZUVxdWFsaXR5KCk7dD1uZXcgJCh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLFwiPz9cIix0LHIpfXJldHVybiB0fXBhcnNlRXF1YWxpdHkoKXtsZXQgZT10aGlzLmlucHV0SW5kZXgsdD10aGlzLnBhcnNlUmVsYXRpb25hbCgpO2Zvcig7dGhpcy5uZXh0LnR5cGU9PWQuT3BlcmF0b3I7KXtsZXQgcj10aGlzLm5leHQuc3RyVmFsdWU7c3dpdGNoKHIpe2Nhc2VcIj09XCI6Y2FzZVwiPT09XCI6Y2FzZVwiIT1cIjpjYXNlXCIhPT1cIjp0aGlzLmFkdmFuY2UoKTtsZXQgbj10aGlzLnBhcnNlUmVsYXRpb25hbCgpO3Q9bmV3ICQodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSxyLHQsbik7Y29udGludWV9YnJlYWt9cmV0dXJuIHR9cGFyc2VSZWxhdGlvbmFsKCl7bGV0IGU9dGhpcy5pbnB1dEluZGV4LHQ9dGhpcy5wYXJzZUFkZGl0aXZlKCk7Zm9yKDt0aGlzLm5leHQudHlwZT09ZC5PcGVyYXRvcjspe2xldCByPXRoaXMubmV4dC5zdHJWYWx1ZTtzd2l0Y2gocil7Y2FzZVwiPFwiOmNhc2VcIj5cIjpjYXNlXCI8PVwiOmNhc2VcIj49XCI6dGhpcy5hZHZhbmNlKCk7bGV0IG49dGhpcy5wYXJzZUFkZGl0aXZlKCk7dD1uZXcgJCh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLHIsdCxuKTtjb250aW51ZX1icmVha31yZXR1cm4gdH1wYXJzZUFkZGl0aXZlKCl7bGV0IGU9dGhpcy5pbnB1dEluZGV4LHQ9dGhpcy5wYXJzZU11bHRpcGxpY2F0aXZlKCk7Zm9yKDt0aGlzLm5leHQudHlwZT09ZC5PcGVyYXRvcjspe2xldCByPXRoaXMubmV4dC5zdHJWYWx1ZTtzd2l0Y2gocil7Y2FzZVwiK1wiOmNhc2VcIi1cIjp0aGlzLmFkdmFuY2UoKTtsZXQgbj10aGlzLnBhcnNlTXVsdGlwbGljYXRpdmUoKTt0PW5ldyAkKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSkscix0LG4pO2NvbnRpbnVlfWJyZWFrfXJldHVybiB0fXBhcnNlTXVsdGlwbGljYXRpdmUoKXtsZXQgZT10aGlzLmlucHV0SW5kZXgsdD10aGlzLnBhcnNlUHJlZml4KCk7Zm9yKDt0aGlzLm5leHQudHlwZT09ZC5PcGVyYXRvcjspe2xldCByPXRoaXMubmV4dC5zdHJWYWx1ZTtzd2l0Y2gocil7Y2FzZVwiKlwiOmNhc2VcIiVcIjpjYXNlXCIvXCI6dGhpcy5hZHZhbmNlKCk7bGV0IG49dGhpcy5wYXJzZVByZWZpeCgpO3Q9bmV3ICQodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSxyLHQsbik7Y29udGludWV9YnJlYWt9cmV0dXJuIHR9cGFyc2VQcmVmaXgoKXtpZih0aGlzLm5leHQudHlwZT09ZC5PcGVyYXRvcil7bGV0IGU9dGhpcy5pbnB1dEluZGV4LHQ9dGhpcy5uZXh0LnN0clZhbHVlLHI7c3dpdGNoKHQpe2Nhc2VcIitcIjpyZXR1cm4gdGhpcy5hZHZhbmNlKCkscj10aGlzLnBhcnNlUHJlZml4KCksSy5jcmVhdGVQbHVzKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSkscik7Y2FzZVwiLVwiOnJldHVybiB0aGlzLmFkdmFuY2UoKSxyPXRoaXMucGFyc2VQcmVmaXgoKSxLLmNyZWF0ZU1pbnVzKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSkscik7Y2FzZVwiIVwiOnJldHVybiB0aGlzLmFkdmFuY2UoKSxyPXRoaXMucGFyc2VQcmVmaXgoKSxuZXcgWSh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLHIpfX1yZXR1cm4gdGhpcy5wYXJzZUNhbGxDaGFpbigpfXBhcnNlQ2FsbENoYWluKCl7bGV0IGU9dGhpcy5pbnB1dEluZGV4LHQ9dGhpcy5wYXJzZVByaW1hcnkoKTtmb3IoOzspaWYodGhpcy5jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoNDYpKXQ9dGhpcy5wYXJzZUFjY2Vzc01lbWJlcih0LGUsITEpO2Vsc2UgaWYodGhpcy5jb25zdW1lT3B0aW9uYWxPcGVyYXRvcihcIj8uXCIpKXRoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDQwKT90PXRoaXMucGFyc2VDYWxsKHQsZSwhMCk6dD10aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig5MSk/dGhpcy5wYXJzZUtleWVkUmVhZE9yV3JpdGUodCxlLCEwKTp0aGlzLnBhcnNlQWNjZXNzTWVtYmVyKHQsZSwhMCk7ZWxzZSBpZih0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig5MSkpdD10aGlzLnBhcnNlS2V5ZWRSZWFkT3JXcml0ZSh0LGUsITEpO2Vsc2UgaWYodGhpcy5jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoNDApKXQ9dGhpcy5wYXJzZUNhbGwodCxlLCExKTtlbHNlIGlmKHRoaXMuY29uc3VtZU9wdGlvbmFsT3BlcmF0b3IoXCIhXCIpKXQ9bmV3IGVlKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSksdCk7ZWxzZSByZXR1cm4gdH1wYXJzZVByaW1hcnkoKXtsZXQgZT10aGlzLmlucHV0SW5kZXg7aWYodGhpcy5jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoNDApKXt0aGlzLnJwYXJlbnNFeHBlY3RlZCsrO2xldCB0PXRoaXMucGFyc2VQaXBlKCk7cmV0dXJuIHRoaXMucnBhcmVuc0V4cGVjdGVkLS0sdGhpcy5leHBlY3RDaGFyYWN0ZXIoNDEpLHR9ZWxzZXtpZih0aGlzLm5leHQuaXNLZXl3b3JkTnVsbCgpKXJldHVybiB0aGlzLmFkdmFuY2UoKSxuZXcgQSh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLG51bGwpO2lmKHRoaXMubmV4dC5pc0tleXdvcmRVbmRlZmluZWQoKSlyZXR1cm4gdGhpcy5hZHZhbmNlKCksbmV3IEEodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSx2b2lkIDApO2lmKHRoaXMubmV4dC5pc0tleXdvcmRUcnVlKCkpcmV0dXJuIHRoaXMuYWR2YW5jZSgpLG5ldyBBKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSksITApO2lmKHRoaXMubmV4dC5pc0tleXdvcmRGYWxzZSgpKXJldHVybiB0aGlzLmFkdmFuY2UoKSxuZXcgQSh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLCExKTtpZih0aGlzLm5leHQuaXNLZXl3b3JkVGhpcygpKXJldHVybiB0aGlzLmFkdmFuY2UoKSxuZXcgU2UodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSk7aWYodGhpcy5jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoOTEpKXt0aGlzLnJicmFja2V0c0V4cGVjdGVkKys7bGV0IHQ9dGhpcy5wYXJzZUV4cHJlc3Npb25MaXN0KDkzKTtyZXR1cm4gdGhpcy5yYnJhY2tldHNFeHBlY3RlZC0tLHRoaXMuZXhwZWN0Q2hhcmFjdGVyKDkzKSxuZXcgWih0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpLHQpfWVsc2V7aWYodGhpcy5uZXh0LmlzQ2hhcmFjdGVyKDEyMykpcmV0dXJuIHRoaXMucGFyc2VMaXRlcmFsTWFwKCk7aWYodGhpcy5uZXh0LmlzSWRlbnRpZmllcigpKXJldHVybiB0aGlzLnBhcnNlQWNjZXNzTWVtYmVyKG5ldyBMKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSkpLGUsITEpO2lmKHRoaXMubmV4dC5pc051bWJlcigpKXtsZXQgdD10aGlzLm5leHQudG9OdW1iZXIoKTtyZXR1cm4gdGhpcy5hZHZhbmNlKCksbmV3IEEodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSx0KX1lbHNlIGlmKHRoaXMubmV4dC5pc1N0cmluZygpKXtsZXQgdD10aGlzLm5leHQudG9TdHJpbmcoKTtyZXR1cm4gdGhpcy5hZHZhbmNlKCksbmV3IEEodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSx0KX1lbHNlIHJldHVybiB0aGlzLm5leHQuaXNQcml2YXRlSWRlbnRpZmllcigpPyh0aGlzLl9yZXBvcnRFcnJvckZvclByaXZhdGVJZGVudGlmaWVyKHRoaXMubmV4dCxudWxsKSxuZXcgRSh0aGlzLnNwYW4oZSksdGhpcy5zb3VyY2VTcGFuKGUpKSk6dGhpcy5pbmRleD49dGhpcy50b2tlbnMubGVuZ3RoPyh0aGlzLmVycm9yKGBVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiAke3RoaXMuaW5wdXR9YCksbmV3IEUodGhpcy5zcGFuKGUpLHRoaXMuc291cmNlU3BhbihlKSkpOih0aGlzLmVycm9yKGBVbmV4cGVjdGVkIHRva2VuICR7dGhpcy5uZXh0fWApLG5ldyBFKHRoaXMuc3BhbihlKSx0aGlzLnNvdXJjZVNwYW4oZSkpKX19fXBhcnNlRXhwcmVzc2lvbkxpc3QoZSl7bGV0IHQ9W107ZG8gaWYoIXRoaXMubmV4dC5pc0NoYXJhY3RlcihlKSl0LnB1c2godGhpcy5wYXJzZVBpcGUoKSk7ZWxzZSBicmVhazt3aGlsZSh0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig0NCkpO3JldHVybiB0fXBhcnNlTGl0ZXJhbE1hcCgpe2xldCBlPVtdLHQ9W10scj10aGlzLmlucHV0SW5kZXg7aWYodGhpcy5leHBlY3RDaGFyYWN0ZXIoMTIzKSwhdGhpcy5jb25zdW1lT3B0aW9uYWxDaGFyYWN0ZXIoMTI1KSl7dGhpcy5yYnJhY2VzRXhwZWN0ZWQrKztkb3tsZXQgbj10aGlzLmlucHV0SW5kZXgsaT10aGlzLm5leHQuaXNTdHJpbmcoKSxhPXRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZE9yU3RyaW5nKCk7aWYoZS5wdXNoKHtrZXk6YSxxdW90ZWQ6aX0pLGkpdGhpcy5leHBlY3RDaGFyYWN0ZXIoNTgpLHQucHVzaCh0aGlzLnBhcnNlUGlwZSgpKTtlbHNlIGlmKHRoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDU4KSl0LnB1c2godGhpcy5wYXJzZVBpcGUoKSk7ZWxzZXtsZXQgaD10aGlzLnNwYW4obiksdj10aGlzLnNvdXJjZVNwYW4obik7dC5wdXNoKG5ldyBCKGgsdix2LG5ldyBMKGgsdiksYSkpfX13aGlsZSh0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig0NCkmJiF0aGlzLm5leHQuaXNDaGFyYWN0ZXIoMTI1KSk7dGhpcy5yYnJhY2VzRXhwZWN0ZWQtLSx0aGlzLmV4cGVjdENoYXJhY3RlcigxMjUpfXJldHVybiBuZXcgSih0aGlzLnNwYW4ociksdGhpcy5zb3VyY2VTcGFuKHIpLGUsdCl9cGFyc2VBY2Nlc3NNZW1iZXIoZSx0LHIpe2xldCBuPXRoaXMuaW5wdXRJbmRleCxpPXRoaXMud2l0aENvbnRleHQoaGUuV3JpdGFibGUsKCk9PntsZXQgdj10aGlzLmV4cGVjdElkZW50aWZpZXJPcktleXdvcmQoKT8/XCJcIjtyZXR1cm4gdi5sZW5ndGg9PT0wJiZ0aGlzLmVycm9yKFwiRXhwZWN0ZWQgaWRlbnRpZmllciBmb3IgcHJvcGVydHkgYWNjZXNzXCIsZS5zcGFuLmVuZCksdn0pLGE9dGhpcy5zb3VyY2VTcGFuKG4pLGg7aWYocil0aGlzLmNvbnN1bWVPcHRpb25hbEFzc2lnbm1lbnQoKT8odGhpcy5lcnJvcihcIlRoZSAnPy4nIG9wZXJhdG9yIGNhbm5vdCBiZSB1c2VkIGluIHRoZSBhc3NpZ25tZW50XCIpLGg9bmV3IEUodGhpcy5zcGFuKHQpLHRoaXMuc291cmNlU3Bhbih0KSkpOmg9bmV3IEgodGhpcy5zcGFuKHQpLHRoaXMuc291cmNlU3Bhbih0KSxhLGUsaSk7ZWxzZSBpZih0aGlzLmNvbnN1bWVPcHRpb25hbEFzc2lnbm1lbnQoKSl7aWYoISh0aGlzLnBhcnNlRmxhZ3MmMSkpcmV0dXJuIHRoaXMuZXJyb3IoXCJCaW5kaW5ncyBjYW5ub3QgY29udGFpbiBhc3NpZ25tZW50c1wiKSxuZXcgRSh0aGlzLnNwYW4odCksdGhpcy5zb3VyY2VTcGFuKHQpKTtsZXQgdj10aGlzLnBhcnNlQ29uZGl0aW9uYWwoKTtoPW5ldyBRKHRoaXMuc3Bhbih0KSx0aGlzLnNvdXJjZVNwYW4odCksYSxlLGksdil9ZWxzZSBoPW5ldyBCKHRoaXMuc3Bhbih0KSx0aGlzLnNvdXJjZVNwYW4odCksYSxlLGkpO3JldHVybiBofXBhcnNlQ2FsbChlLHQscil7bGV0IG49dGhpcy5pbnB1dEluZGV4O3RoaXMucnBhcmVuc0V4cGVjdGVkKys7bGV0IGk9dGhpcy5wYXJzZUNhbGxBcmd1bWVudHMoKSxhPXRoaXMuc3BhbihuLHRoaXMuaW5wdXRJbmRleCkudG9BYnNvbHV0ZSh0aGlzLmFic29sdXRlT2Zmc2V0KTt0aGlzLmV4cGVjdENoYXJhY3Rlcig0MSksdGhpcy5ycGFyZW5zRXhwZWN0ZWQtLTtsZXQgaD10aGlzLnNwYW4odCksdj10aGlzLnNvdXJjZVNwYW4odCk7cmV0dXJuIHI/bmV3IHJlKGgsdixlLGksYSk6bmV3IHRlKGgsdixlLGksYSl9Y29uc3VtZU9wdGlvbmFsQXNzaWdubWVudCgpe3JldHVybiB0aGlzLnBhcnNlRmxhZ3MmMiYmdGhpcy5uZXh0LmlzT3BlcmF0b3IoXCIhXCIpJiZ0aGlzLnBlZWsoMSkuaXNPcGVyYXRvcihcIj1cIik/KHRoaXMuYWR2YW5jZSgpLHRoaXMuYWR2YW5jZSgpLCEwKTp0aGlzLmNvbnN1bWVPcHRpb25hbE9wZXJhdG9yKFwiPVwiKX1wYXJzZUNhbGxBcmd1bWVudHMoKXtpZih0aGlzLm5leHQuaXNDaGFyYWN0ZXIoNDEpKXJldHVybltdO2xldCBlPVtdO2RvIGUucHVzaCh0aGlzLnBhcnNlUGlwZSgpKTt3aGlsZSh0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig0NCkpO3JldHVybiBlfWV4cGVjdFRlbXBsYXRlQmluZGluZ0tleSgpe2xldCBlPVwiXCIsdD0hMSxyPXRoaXMuY3VycmVudEFic29sdXRlT2Zmc2V0O2RvIGUrPXRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZE9yU3RyaW5nKCksdD10aGlzLmNvbnN1bWVPcHRpb25hbE9wZXJhdG9yKFwiLVwiKSx0JiYoZSs9XCItXCIpO3doaWxlKHQpO3JldHVybntzb3VyY2U6ZSxzcGFuOm5ldyBJKHIscitlLmxlbmd0aCl9fXBhcnNlVGVtcGxhdGVCaW5kaW5ncyhlKXtsZXQgdD1bXTtmb3IodC5wdXNoKC4uLnRoaXMucGFyc2VEaXJlY3RpdmVLZXl3b3JkQmluZGluZ3MoZSkpO3RoaXMuaW5kZXg8dGhpcy50b2tlbnMubGVuZ3RoOyl7bGV0IHI9dGhpcy5wYXJzZUxldEJpbmRpbmcoKTtpZihyKXQucHVzaChyKTtlbHNle2xldCBuPXRoaXMuZXhwZWN0VGVtcGxhdGVCaW5kaW5nS2V5KCksaT10aGlzLnBhcnNlQXNCaW5kaW5nKG4pO2k/dC5wdXNoKGkpOihuLnNvdXJjZT1lLnNvdXJjZStuLnNvdXJjZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNvdXJjZS5zdWJzdHJpbmcoMSksdC5wdXNoKC4uLnRoaXMucGFyc2VEaXJlY3RpdmVLZXl3b3JkQmluZGluZ3MobikpKX10aGlzLmNvbnN1bWVTdGF0ZW1lbnRUZXJtaW5hdG9yKCl9cmV0dXJuIG5ldyBGZSh0LFtdLHRoaXMuZXJyb3JzKX1wYXJzZUtleWVkUmVhZE9yV3JpdGUoZSx0LHIpe3JldHVybiB0aGlzLndpdGhDb250ZXh0KGhlLldyaXRhYmxlLCgpPT57dGhpcy5yYnJhY2tldHNFeHBlY3RlZCsrO2xldCBuPXRoaXMucGFyc2VQaXBlKCk7aWYobiBpbnN0YW5jZW9mIEUmJnRoaXMuZXJyb3IoXCJLZXkgYWNjZXNzIGNhbm5vdCBiZSBlbXB0eVwiKSx0aGlzLnJicmFja2V0c0V4cGVjdGVkLS0sdGhpcy5leHBlY3RDaGFyYWN0ZXIoOTMpLHRoaXMuY29uc3VtZU9wdGlvbmFsT3BlcmF0b3IoXCI9XCIpKWlmKHIpdGhpcy5lcnJvcihcIlRoZSAnPy4nIG9wZXJhdG9yIGNhbm5vdCBiZSB1c2VkIGluIHRoZSBhc3NpZ25tZW50XCIpO2Vsc2V7bGV0IGk9dGhpcy5wYXJzZUNvbmRpdGlvbmFsKCk7cmV0dXJuIG5ldyBxKHRoaXMuc3Bhbih0KSx0aGlzLnNvdXJjZVNwYW4odCksZSxuLGkpfWVsc2UgcmV0dXJuIHI/bmV3IHoodGhpcy5zcGFuKHQpLHRoaXMuc291cmNlU3Bhbih0KSxlLG4pOm5ldyBqKHRoaXMuc3Bhbih0KSx0aGlzLnNvdXJjZVNwYW4odCksZSxuKTtyZXR1cm4gbmV3IEUodGhpcy5zcGFuKHQpLHRoaXMuc291cmNlU3Bhbih0KSl9KX1wYXJzZURpcmVjdGl2ZUtleXdvcmRCaW5kaW5ncyhlKXtsZXQgdD1bXTt0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig1OCk7bGV0IHI9dGhpcy5nZXREaXJlY3RpdmVCb3VuZFRhcmdldCgpLG49dGhpcy5jdXJyZW50QWJzb2x1dGVPZmZzZXQsaT10aGlzLnBhcnNlQXNCaW5kaW5nKGUpO2l8fCh0aGlzLmNvbnN1bWVTdGF0ZW1lbnRUZXJtaW5hdG9yKCksbj10aGlzLmN1cnJlbnRBYnNvbHV0ZU9mZnNldCk7bGV0IGE9bmV3IEkoZS5zcGFuLnN0YXJ0LG4pO3JldHVybiB0LnB1c2gobmV3IHNlKGEsZSxyKSksaSYmdC5wdXNoKGkpLHR9Z2V0RGlyZWN0aXZlQm91bmRUYXJnZXQoKXtpZih0aGlzLm5leHQ9PT1DZXx8dGhpcy5wZWVrS2V5d29yZEFzKCl8fHRoaXMucGVla0tleXdvcmRMZXQoKSlyZXR1cm4gbnVsbDtsZXQgZT10aGlzLnBhcnNlUGlwZSgpLHtzdGFydDp0LGVuZDpyfT1lLnNwYW4sbj10aGlzLmlucHV0LnN1YnN0cmluZyh0LHIpO3JldHVybiBuZXcgUihlLG4sdGhpcy5sb2NhdGlvbix0aGlzLmFic29sdXRlT2Zmc2V0K3QsdGhpcy5lcnJvcnMpfXBhcnNlQXNCaW5kaW5nKGUpe2lmKCF0aGlzLnBlZWtLZXl3b3JkQXMoKSlyZXR1cm4gbnVsbDt0aGlzLmFkdmFuY2UoKTtsZXQgdD10aGlzLmV4cGVjdFRlbXBsYXRlQmluZGluZ0tleSgpO3RoaXMuY29uc3VtZVN0YXRlbWVudFRlcm1pbmF0b3IoKTtsZXQgcj1uZXcgSShlLnNwYW4uc3RhcnQsdGhpcy5jdXJyZW50QWJzb2x1dGVPZmZzZXQpO3JldHVybiBuZXcgVChyLHQsZSl9cGFyc2VMZXRCaW5kaW5nKCl7aWYoIXRoaXMucGVla0tleXdvcmRMZXQoKSlyZXR1cm4gbnVsbDtsZXQgZT10aGlzLmN1cnJlbnRBYnNvbHV0ZU9mZnNldDt0aGlzLmFkdmFuY2UoKTtsZXQgdD10aGlzLmV4cGVjdFRlbXBsYXRlQmluZGluZ0tleSgpLHI9bnVsbDt0aGlzLmNvbnN1bWVPcHRpb25hbE9wZXJhdG9yKFwiPVwiKSYmKHI9dGhpcy5leHBlY3RUZW1wbGF0ZUJpbmRpbmdLZXkoKSksdGhpcy5jb25zdW1lU3RhdGVtZW50VGVybWluYXRvcigpO2xldCBuPW5ldyBJKGUsdGhpcy5jdXJyZW50QWJzb2x1dGVPZmZzZXQpO3JldHVybiBuZXcgVChuLHQscil9Y29uc3VtZVN0YXRlbWVudFRlcm1pbmF0b3IoKXt0aGlzLmNvbnN1bWVPcHRpb25hbENoYXJhY3Rlcig1OSl8fHRoaXMuY29uc3VtZU9wdGlvbmFsQ2hhcmFjdGVyKDQ0KX1lcnJvcihlLHQ9bnVsbCl7dGhpcy5lcnJvcnMucHVzaChuZXcgRyhlLHRoaXMuaW5wdXQsdGhpcy5sb2NhdGlvblRleHQodCksdGhpcy5sb2NhdGlvbikpLHRoaXMuc2tpcCgpfWxvY2F0aW9uVGV4dChlPW51bGwpe3JldHVybiBlPT1udWxsJiYoZT10aGlzLmluZGV4KSxlPHRoaXMudG9rZW5zLmxlbmd0aD9gYXQgY29sdW1uICR7dGhpcy50b2tlbnNbZV0uaW5kZXgrMX0gaW5gOlwiYXQgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvblwifV9yZXBvcnRFcnJvckZvclByaXZhdGVJZGVudGlmaWVyKGUsdCl7bGV0IHI9YFByaXZhdGUgaWRlbnRpZmllcnMgYXJlIG5vdCBzdXBwb3J0ZWQuIFVuZXhwZWN0ZWQgcHJpdmF0ZSBpZGVudGlmaWVyOiAke2V9YDt0IT09bnVsbCYmKHIrPWAsICR7dH1gKSx0aGlzLmVycm9yKHIpfXNraXAoKXtsZXQgZT10aGlzLm5leHQ7Zm9yKDt0aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aCYmIWUuaXNDaGFyYWN0ZXIoNTkpJiYhZS5pc09wZXJhdG9yKFwifFwiKSYmKHRoaXMucnBhcmVuc0V4cGVjdGVkPD0wfHwhZS5pc0NoYXJhY3Rlcig0MSkpJiYodGhpcy5yYnJhY2VzRXhwZWN0ZWQ8PTB8fCFlLmlzQ2hhcmFjdGVyKDEyNSkpJiYodGhpcy5yYnJhY2tldHNFeHBlY3RlZDw9MHx8IWUuaXNDaGFyYWN0ZXIoOTMpKSYmKCEodGhpcy5jb250ZXh0JmhlLldyaXRhYmxlKXx8IWUuaXNPcGVyYXRvcihcIj1cIikpOyl0aGlzLm5leHQuaXNFcnJvcigpJiZ0aGlzLmVycm9ycy5wdXNoKG5ldyBHKHRoaXMubmV4dC50b1N0cmluZygpLHRoaXMuaW5wdXQsdGhpcy5sb2NhdGlvblRleHQoKSx0aGlzLmxvY2F0aW9uKSksdGhpcy5hZHZhbmNlKCksZT10aGlzLm5leHR9fSxVZT1jbGFzcyBleHRlbmRzIHlle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmVycm9ycz1bXX12aXNpdFBpcGUoKXt0aGlzLmVycm9ycy5wdXNoKFwicGlwZXNcIil9fTtmdW5jdGlvbiBBcihzKXtsZXQgZT1uZXcgTWFwLHQ9MCxyPTAsbj0wO2Zvcig7bjxzLmxlbmd0aDspe2xldCBpPXNbbl07aWYoaS50eXBlPT09OSl7bGV0W2EsaF09aS5wYXJ0czt0Kz1oLmxlbmd0aCxyKz1hLmxlbmd0aH1lbHNle2xldCBhPWkucGFydHMucmVkdWNlKChoLHYpPT5oK3YubGVuZ3RoLDApO3IrPWEsdCs9YX1lLnNldChyLHQpLG4rK31yZXR1cm4gZX12YXIgZHQ9XCJhbmd1bGFyLWVzdHJlZS1wYXJzZXJcIixEZT1cIk5nRXN0cmVlUGFyc2VyXCIsR2U9MCxWZT1bZHQsR2VdO2Z1bmN0aW9uIHZ0KCl7cmV0dXJuIG5ldyB2ZShuZXcgeGUpfWZ1bmN0aW9uIFdlKHMsZSl7bGV0IHQ9dnQoKSx7YXN0SW5wdXQ6cixjb21tZW50czpufT1DcihzLHQpLHthc3Q6aSxlcnJvcnM6YX09ZShyLHQpO3JldHVybiB5dChhKSx7YXN0OmksY29tbWVudHM6bn19ZnVuY3Rpb24gZ3Qocyl7cmV0dXJuIFdlKHMsKGUsdCk9PnQucGFyc2VCaW5kaW5nKGUsLi4uVmUpKX1mdW5jdGlvbiBtdChzKXtyZXR1cm4gV2UocywoZSx0KT0+dC5wYXJzZUFjdGlvbihlLCExLC4uLlZlKSl9ZnVuY3Rpb24gU3Qocyl7cmV0dXJuIFdlKHMsKGUsdCk9PntsZXQgcj10LnBhcnNlSW50ZXJwb2xhdGlvbkV4cHJlc3Npb24oZSwuLi5WZSk7cmV0dXJuIHIuYXN0PXIuYXN0LmV4cHJlc3Npb25zWzBdLHJ9KX1mdW5jdGlvbiB3dChzKXtsZXQgZT12dCgpLHt0ZW1wbGF0ZUJpbmRpbmdzOnQsZXJyb3JzOnJ9PWUucGFyc2VUZW1wbGF0ZUJpbmRpbmdzKERlLHMsZHQsR2UsR2UpO3JldHVybiB5dChyKSx0fWZ1bmN0aW9uIHl0KHMpe2lmKHMubGVuZ3RoIT09MCl7bGV0W3ttZXNzYWdlOmV9XT1zO3Rocm93IG5ldyBTeW50YXhFcnJvcihlLnJlcGxhY2UoL15QYXJzZXIgRXJyb3I6IHwgYXQgY29sdW1uIFxcZCsgaW4gW15dKiQvZyxcIlwiKSl9fWZ1bmN0aW9uIENyKHMsZSl7bGV0IHQ9ZS5fY29tbWVudFN0YXJ0KHMpO3JldHVybiB0PT09bnVsbD97YXN0SW5wdXQ6cyxjb21tZW50czpbXX06e2FzdElucHV0OnMuc2xpY2UoMCx0KSxjb21tZW50czpbe3R5cGU6XCJDb21tZW50XCIsdmFsdWU6cy5zbGljZSh0KzIpLHNvdXJjZVNwYW46e3N0YXJ0OnQsZW5kOnMubGVuZ3RofX1dfX1mdW5jdGlvbiBFdChzKXtyZXR1cm4gcyBpbnN0YW5jZW9mIEs/XCJVbmFyeVwiOnMgaW5zdGFuY2VvZiAkP1wiQmluYXJ5XCI6cyBpbnN0YW5jZW9mIFg/XCJCaW5kaW5nUGlwZVwiOnMgaW5zdGFuY2VvZiB0ZT9cIkNhbGxcIjpzIGluc3RhbmNlb2YgVj9cIkNoYWluXCI6cyBpbnN0YW5jZW9mIFc/XCJDb25kaXRpb25hbFwiOnMgaW5zdGFuY2VvZiBFP1wiRW1wdHlFeHByXCI6cyBpbnN0YW5jZW9mIEw/XCJJbXBsaWNpdFJlY2VpdmVyXCI6cyBpbnN0YW5jZW9mIGo/XCJLZXllZFJlYWRcIjpzIGluc3RhbmNlb2Ygej9cIlNhZmVLZXllZFJlYWRcIjpzIGluc3RhbmNlb2YgcT9cIktleWVkV3JpdGVcIjpzIGluc3RhbmNlb2YgWj9cIkxpdGVyYWxBcnJheVwiOnMgaW5zdGFuY2VvZiBKP1wiTGl0ZXJhbE1hcFwiOnMgaW5zdGFuY2VvZiBBP1wiTGl0ZXJhbFByaW1pdGl2ZVwiOnMgaW5zdGFuY2VvZiBlZT9cIk5vbk51bGxBc3NlcnRcIjpzIGluc3RhbmNlb2YgWT9cIlByZWZpeE5vdFwiOnMgaW5zdGFuY2VvZiBCP1wiUHJvcGVydHlSZWFkXCI6cyBpbnN0YW5jZW9mIFE/XCJQcm9wZXJ0eVdyaXRlXCI6cyBpbnN0YW5jZW9mIHJlP1wiU2FmZUNhbGxcIjpzIGluc3RhbmNlb2YgSD9cIlNhZmVQcm9wZXJ0eVJlYWRcIjpzLnR5cGV9ZnVuY3Rpb24gZnQoe3N0YXJ0OnMsZW5kOmV9LHQpe2xldCByPXMsbj1lO2Zvcig7biE9PXImJi9cXHMvLnRlc3QodFtuLTFdKTspbi0tO2Zvcig7ciE9PW4mJi9cXHMvLnRlc3QodFtyXSk7KXIrKztyZXR1cm57c3RhcnQ6cixlbmQ6bn19ZnVuY3Rpb24gT3Ioe3N0YXJ0OnMsZW5kOmV9LHQpe2xldCByPXMsbj1lO2Zvcig7biE9PXQubGVuZ3RoJiYvXFxzLy50ZXN0KHRbbl0pOyluKys7Zm9yKDtyIT09MCYmL1xccy8udGVzdCh0W3ItMV0pOylyLS07cmV0dXJue3N0YXJ0OnIsZW5kOm59fWZ1bmN0aW9uIE5yKHMsZSl7cmV0dXJuIGVbcy5zdGFydC0xXT09PVwiKFwiJiZlW3MuZW5kXT09PVwiKVwiP3tzdGFydDpzLnN0YXJ0LTEsZW5kOnMuZW5kKzF9OnN9ZnVuY3Rpb24gQXQocyxlLHQpe2xldCByPTAsbj17c3RhcnQ6cy5zdGFydCxlbmQ6cy5lbmR9O2Zvcig7Oyl7bGV0IGk9T3IobixlKSxhPU5yKGksZSk7aWYoaS5zdGFydD09PWEuc3RhcnQmJmkuZW5kPT09YS5lbmQpYnJlYWs7bi5zdGFydD1hLnN0YXJ0LG4uZW5kPWEuZW5kLHIrK31yZXR1cm57aGFzUGFyZW5zOih0P3ItMTpyKSE9PTAsb3V0ZXJTcGFuOmZ0KHQ/e3N0YXJ0Om4uc3RhcnQrMSxlbmQ6bi5lbmQtMX06bixlKSxpbm5lclNwYW46ZnQocyxlKX19ZnVuY3Rpb24gJHQocyxlLHQpe2xldCByPWU7Zm9yKDshcy50ZXN0KHRbcl0pOylpZigtLXI8MCl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGZyb250IGNoYXIgJHtzfSBmcm9tIGluZGV4ICR7ZX0gaW4gJHtKU09OLnN0cmluZ2lmeSh0KX1gKTtyZXR1cm4gcn1mdW5jdGlvbiBPZShzLGUsdCl7bGV0IHI9ZTtmb3IoOyFzLnRlc3QodFtyXSk7KWlmKCsrcj49dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBiYWNrIGNoYXIgJHtzfSBmcm9tIGluZGV4ICR7ZX0gaW4gJHtKU09OLnN0cmluZ2lmeSh0KX1gKTtyZXR1cm4gcn1mdW5jdGlvbiBDdChzKXtyZXR1cm4gcy5zbGljZSgwLDEpLnRvTG93ZXJDYXNlKCkrcy5zbGljZSgxKX1mdW5jdGlvbiBPdChzKXtyZXR1cm4gcy5sZW5ndGg9PT0wP3ZvaWQgMDpzW3MubGVuZ3RoLTFdfXZhciBwZT0ocyxlLHQ9ITEpPT57bGV0IHI9RXQocyk7c3dpdGNoKHIpe2Nhc2VcIlVuYXJ5XCI6e2xldHtvcGVyYXRvcjpjLGV4cHI6b309cyx4PW4obyk7cmV0dXJuIGEoXCJVbmFyeUV4cHJlc3Npb25cIix7cHJlZml4OiEwLGFyZ3VtZW50Ongsb3BlcmF0b3I6Y30scy5zb3VyY2VTcGFuLHtoYXNQYXJlbnRQYXJlbnM6dH0pfWNhc2VcIkJpbmFyeVwiOntsZXR7bGVmdDpjLG9wZXJhdGlvbjpvLHJpZ2h0Onh9PXMscD1uKGMpLHU9bih4KTtyZXR1cm4gYShvPT09XCImJlwifHxvPT09XCJ8fFwifHxvPT09XCI/P1wiP1wiTG9naWNhbEV4cHJlc3Npb25cIjpcIkJpbmFyeUV4cHJlc3Npb25cIix7bGVmdDpwLHJpZ2h0OnUsb3BlcmF0b3I6b30se3N0YXJ0OnkocCksZW5kOm0odSl9LHtoYXNQYXJlbnRQYXJlbnM6dH0pfWNhc2VcIkJpbmRpbmdQaXBlXCI6e2xldHtleHA6YyxuYW1lOm8sYXJnczp4fT1zLHA9bihjKSx1PWYoL1xcUy8sZigvXFx8LyxtKHApKSsxKSxnPWEoXCJJZGVudGlmaWVyXCIse25hbWU6b30se3N0YXJ0OnUsZW5kOnUrby5sZW5ndGh9KSxsPXgubWFwKG4pO3JldHVybiBhKFwiTkdQaXBlRXhwcmVzc2lvblwiLHtsZWZ0OnAscmlnaHQ6Zyxhcmd1bWVudHM6bH0se3N0YXJ0OnkocCksZW5kOm0obC5sZW5ndGg9PT0wP2c6T3QobCkpfSx7aGFzUGFyZW50UGFyZW5zOnR9KX1jYXNlXCJDaGFpblwiOntsZXR7ZXhwcmVzc2lvbnM6Y309cztyZXR1cm4gYShcIk5HQ2hhaW5lZEV4cHJlc3Npb25cIix7ZXhwcmVzc2lvbnM6Yy5tYXAobil9LHMuc291cmNlU3Bhbix7aGFzUGFyZW50UGFyZW5zOnR9KX1jYXNlXCJDb21tZW50XCI6e2xldHt2YWx1ZTpjfT1zO3JldHVybiBhKFwiQ29tbWVudExpbmVcIix7dmFsdWU6Y30scy5zb3VyY2VTcGFuLHtwcm9jZXNzU3BhbjohMX0pfWNhc2VcIkNvbmRpdGlvbmFsXCI6e2xldHtjb25kaXRpb246Yyx0cnVlRXhwOm8sZmFsc2VFeHA6eH09cyxwPW4oYyksdT1uKG8pLGc9bih4KTtyZXR1cm4gYShcIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiLHt0ZXN0OnAsY29uc2VxdWVudDp1LGFsdGVybmF0ZTpnfSx7c3RhcnQ6eShwKSxlbmQ6bShnKX0se2hhc1BhcmVudFBhcmVuczp0fSl9Y2FzZVwiRW1wdHlFeHByXCI6cmV0dXJuIGEoXCJOR0VtcHR5RXhwcmVzc2lvblwiLHt9LHMuc291cmNlU3Bhbix7aGFzUGFyZW50UGFyZW5zOnR9KTtjYXNlXCJJbXBsaWNpdFJlY2VpdmVyXCI6cmV0dXJuIGEoXCJUaGlzRXhwcmVzc2lvblwiLHt9LHMuc291cmNlU3Bhbix7aGFzUGFyZW50UGFyZW5zOnR9KTtjYXNlXCJLZXllZFJlYWRcIjpjYXNlXCJTYWZlS2V5ZWRSZWFkXCI6e2xldCBjPXI9PT1cIlNhZmVLZXllZFJlYWRcIix7a2V5Om99PXMseD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxcInJlY2VpdmVyXCIpP3MucmVjZWl2ZXI6cy5vYmoscD1uKG8pO3JldHVybiBoKHgscCx7Y29tcHV0ZWQ6ITAsb3B0aW9uYWw6Y30se2VuZDpzLnNvdXJjZVNwYW4uZW5kLGhhc1BhcmVudFBhcmVuczp0fSl9Y2FzZVwiTGl0ZXJhbEFycmF5XCI6e2xldHtleHByZXNzaW9uczpjfT1zO3JldHVybiBhKFwiQXJyYXlFeHByZXNzaW9uXCIse2VsZW1lbnRzOmMubWFwKG4pfSxzLnNvdXJjZVNwYW4se2hhc1BhcmVudFBhcmVuczp0fSl9Y2FzZVwiTGl0ZXJhbE1hcFwiOntsZXR7a2V5czpjLHZhbHVlczpvfT1zLHg9by5tYXAodT0+bih1KSkscD1jLm1hcCgoe2tleTp1LHF1b3RlZDpnfSxsKT0+e2xldCBPPXhbbF0sdWU9eShPKSxxZT1tKE8pLFJlPWYoL1xcUy8sbD09PTA/cy5zb3VyY2VTcGFuLnN0YXJ0KzE6ZigvLC8sbSh4W2wtMV0pKSsxKSxidD11ZT09PVJlP3FlOnYoL1xcUy8sdigvOi8sdWUtMSktMSkrMSxYZT17c3RhcnQ6UmUsZW5kOmJ0fSxnZT1nP2EoXCJTdHJpbmdMaXRlcmFsXCIse3ZhbHVlOnV9LFhlKTphKFwiSWRlbnRpZmllclwiLHtuYW1lOnV9LFhlKSxCdD1nZS5lbmQ8Z2Uuc3RhcnR8fFJlPT09dWU7cmV0dXJuIGEoXCJPYmplY3RQcm9wZXJ0eVwiLHtrZXk6Z2UsdmFsdWU6TyxzaG9ydGhhbmQ6QnQsY29tcHV0ZWQ6ITF9LHtzdGFydDp5KGdlKSxlbmQ6cWV9KX0pO3JldHVybiBhKFwiT2JqZWN0RXhwcmVzc2lvblwiLHtwcm9wZXJ0aWVzOnB9LHMuc291cmNlU3Bhbix7aGFzUGFyZW50UGFyZW5zOnR9KX1jYXNlXCJMaXRlcmFsUHJpbWl0aXZlXCI6e2xldHt2YWx1ZTpjfT1zO3N3aXRjaCh0eXBlb2YgYyl7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBhKFwiQm9vbGVhbkxpdGVyYWxcIix7dmFsdWU6Y30scy5zb3VyY2VTcGFuLHtoYXNQYXJlbnRQYXJlbnM6dH0pO2Nhc2VcIm51bWJlclwiOnJldHVybiBhKFwiTnVtZXJpY0xpdGVyYWxcIix7dmFsdWU6Y30scy5zb3VyY2VTcGFuLHtoYXNQYXJlbnRQYXJlbnM6dH0pO2Nhc2VcIm9iamVjdFwiOnJldHVybiBhKFwiTnVsbExpdGVyYWxcIix7fSxzLnNvdXJjZVNwYW4se2hhc1BhcmVudFBhcmVuczp0fSk7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGEoXCJTdHJpbmdMaXRlcmFsXCIse3ZhbHVlOmN9LHMuc291cmNlU3Bhbix7aGFzUGFyZW50UGFyZW5zOnR9KTtjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gYShcIklkZW50aWZpZXJcIix7bmFtZTpcInVuZGVmaW5lZFwifSxzLnNvdXJjZVNwYW4se2hhc1BhcmVudFBhcmVuczp0fSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgTGl0ZXJhbFByaW1pdGl2ZSB2YWx1ZSB0eXBlICR7dHlwZW9mIGN9YCl9fWNhc2VcIkNhbGxcIjpjYXNlXCJTYWZlQ2FsbFwiOntsZXQgYz1yPT09XCJTYWZlQ2FsbFwiLHtyZWNlaXZlcjpvLGFyZ3M6eH09cyxwPXgubGVuZ3RoPT09MT9baSh4WzBdKV06eC5tYXAobiksdT1uKG8pLGc9ayh1KSxsPWN8fGc/XCJPcHRpb25hbENhbGxFeHByZXNzaW9uXCI6XCJDYWxsRXhwcmVzc2lvblwiO3JldHVybiBhKGwse2NhbGxlZTp1LGFyZ3VtZW50czpwLG9wdGlvbmFsOmw9PT1cIk9wdGlvbmFsQ2FsbEV4cHJlc3Npb25cIj9jOnZvaWQgMH0se3N0YXJ0OnkodSksZW5kOnMuc291cmNlU3Bhbi5lbmR9LHtoYXNQYXJlbnRQYXJlbnM6dH0pfWNhc2VcIk5vbk51bGxBc3NlcnRcIjp7bGV0e2V4cHJlc3Npb246Y309cyxvPW4oYyk7cmV0dXJuIGEoXCJUU05vbk51bGxFeHByZXNzaW9uXCIse2V4cHJlc3Npb246b30se3N0YXJ0OnkobyksZW5kOnMuc291cmNlU3Bhbi5lbmR9LHtoYXNQYXJlbnRQYXJlbnM6dH0pfWNhc2VcIlByZWZpeE5vdFwiOntsZXR7ZXhwcmVzc2lvbjpjfT1zLG89bihjKTtyZXR1cm4gYShcIlVuYXJ5RXhwcmVzc2lvblwiLHtwcmVmaXg6ITAsb3BlcmF0b3I6XCIhXCIsYXJndW1lbnQ6b30se3N0YXJ0OnMuc291cmNlU3Bhbi5zdGFydCxlbmQ6bShvKX0se2hhc1BhcmVudFBhcmVuczp0fSl9Y2FzZVwiUHJvcGVydHlSZWFkXCI6Y2FzZVwiU2FmZVByb3BlcnR5UmVhZFwiOntsZXQgYz1yPT09XCJTYWZlUHJvcGVydHlSZWFkXCIse3JlY2VpdmVyOm8sbmFtZTp4fT1zLHA9digvXFxTLyxzLnNvdXJjZVNwYW4uZW5kLTEpKzEsdT1hKFwiSWRlbnRpZmllclwiLHtuYW1lOnh9LHtzdGFydDpwLXgubGVuZ3RoLGVuZDpwfSx3KG8pP3toYXNQYXJlbnRQYXJlbnM6dH06e30pO3JldHVybiBoKG8sdSx7Y29tcHV0ZWQ6ITEsb3B0aW9uYWw6Y30se2hhc1BhcmVudFBhcmVuczp0fSl9Y2FzZVwiS2V5ZWRXcml0ZVwiOntsZXR7a2V5OmMsdmFsdWU6b309cyx4PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLFwicmVjZWl2ZXJcIik/cy5yZWNlaXZlcjpzLm9iaixwPW4oYyksdT1uKG8pLGc9aCh4LHAse2NvbXB1dGVkOiEwLG9wdGlvbmFsOiExfSx7ZW5kOmYoL1xcXS8sbShwKSkrMX0pO3JldHVybiBhKFwiQXNzaWdubWVudEV4cHJlc3Npb25cIix7bGVmdDpnLG9wZXJhdG9yOlwiPVwiLHJpZ2h0OnV9LHtzdGFydDp5KGcpLGVuZDptKHUpfSx7aGFzUGFyZW50UGFyZW5zOnR9KX1jYXNlXCJQcm9wZXJ0eVdyaXRlXCI6e2xldHtyZWNlaXZlcjpjLG5hbWU6byx2YWx1ZTp4fT1zLHA9bih4KSx1PXYoL1xcUy8sdigvPS8seShwKS0xKS0xKSsxLGc9YShcIklkZW50aWZpZXJcIix7bmFtZTpvfSx7c3RhcnQ6dS1vLmxlbmd0aCxlbmQ6dX0pLGw9aChjLGcse2NvbXB1dGVkOiExLG9wdGlvbmFsOiExfSk7cmV0dXJuIGEoXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiLHtsZWZ0Omwsb3BlcmF0b3I6XCI9XCIscmlnaHQ6cH0se3N0YXJ0OnkobCksZW5kOm0ocCl9LHtoYXNQYXJlbnRQYXJlbnM6dH0pfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIG5vZGUgJHtyfWApfWZ1bmN0aW9uIG4oYyl7cmV0dXJuIHBlKGMsZSl9ZnVuY3Rpb24gaShjKXtyZXR1cm4gcGUoYyxlLCEwKX1mdW5jdGlvbiBhKGMsbyx4LHtwcm9jZXNzU3BhbjpwPSEwLGhhc1BhcmVudFBhcmVuczp1PSExfT17fSl7bGV0IGc9e3R5cGU6YywuLi5OZSh4LGUscCx1KSwuLi5vfTtzd2l0Y2goYyl7Y2FzZVwiTnVtZXJpY0xpdGVyYWxcIjp7bGV0IGw9ZztsLmV4dHJhPXsuLi5sLmV4dHJhLHJhdzplLnRleHQuc2xpY2UobC5zdGFydCxsLmVuZCkscmF3VmFsdWU6bC52YWx1ZX07YnJlYWt9Y2FzZVwiU3RyaW5nTGl0ZXJhbFwiOntsZXQgbD1nO2wuZXh0cmE9ey4uLmwuZXh0cmEscmF3OmUudGV4dC5zbGljZShsLnN0YXJ0LGwuZW5kKSxyYXdWYWx1ZTpsLnZhbHVlfTticmVha31jYXNlXCJPYmplY3RQcm9wZXJ0eVwiOntsZXQgbD1nO2wuc2hvcnRoYW5kJiYobC5leHRyYT17Li4ubC5leHRyYSxzaG9ydGhhbmQ6bC5zaG9ydGhhbmR9KTticmVha319cmV0dXJuIGd9ZnVuY3Rpb24gaChjLG8seCx7ZW5kOnA9bShvKSxoYXNQYXJlbnRQYXJlbnM6dT0hMX09e30pe2lmKHcoYyl8fGMuc291cmNlU3Bhbi5zdGFydD09PW8uc3RhcnQpcmV0dXJuIG87bGV0IGc9bihjKSxsPWsoZyk7cmV0dXJuIGEoeC5vcHRpb25hbHx8bD9cIk9wdGlvbmFsTWVtYmVyRXhwcmVzc2lvblwiOlwiTWVtYmVyRXhwcmVzc2lvblwiLHtvYmplY3Q6Zyxwcm9wZXJ0eTpvLGNvbXB1dGVkOnguY29tcHV0ZWQsLi4ueC5vcHRpb25hbD97b3B0aW9uYWw6ITB9Omw/e29wdGlvbmFsOiExfTpudWxsfSx7c3RhcnQ6eShnKSxlbmQ6cH0se2hhc1BhcmVudFBhcmVuczp1fSl9ZnVuY3Rpb24gdihjLG8pe3JldHVybiAkdChjLG8sZS50ZXh0KX1mdW5jdGlvbiBmKGMsbyl7cmV0dXJuIE9lKGMsbyxlLnRleHQpfWZ1bmN0aW9uIHcoYyl7cmV0dXJuIGMuc291cmNlU3Bhbi5zdGFydD49Yy5zb3VyY2VTcGFuLmVuZHx8L15cXHMrJC8udGVzdChlLnRleHQuc2xpY2UoYy5zb3VyY2VTcGFuLnN0YXJ0LGMuc291cmNlU3Bhbi5lbmQpKX1mdW5jdGlvbiBrKGMpe3JldHVybihjLnR5cGU9PT1cIk9wdGlvbmFsQ2FsbEV4cHJlc3Npb25cInx8Yy50eXBlPT09XCJPcHRpb25hbE1lbWJlckV4cHJlc3Npb25cIikmJiFDKGMpfWZ1bmN0aW9uIEMoYyl7cmV0dXJuIGMuZXh0cmEmJmMuZXh0cmEucGFyZW50aGVzaXplZH1mdW5jdGlvbiB5KGMpe3JldHVybiBDKGMpP2MuZXh0cmEucGFyZW5TdGFydDpjLnN0YXJ0fWZ1bmN0aW9uIG0oYyl7cmV0dXJuIEMoYyk/Yy5leHRyYS5wYXJlbkVuZDpjLmVuZH19O2Z1bmN0aW9uIE5lKHMsZSx0PSExLHI9ITEpe2lmKCF0KXtsZXR7c3RhcnQ6aCxlbmQ6dn09cztyZXR1cm57c3RhcnQ6aCxlbmQ6dixsb2M6e3N0YXJ0OmUubG9jYXRvci5sb2NhdGlvbkZvckluZGV4KGgpLGVuZDplLmxvY2F0b3IubG9jYXRpb25Gb3JJbmRleCh2KX19fWxldHtvdXRlclNwYW46bixpbm5lclNwYW46aSxoYXNQYXJlbnM6YX09QXQocyxlLnRleHQscik7cmV0dXJue3N0YXJ0Omkuc3RhcnQsZW5kOmkuZW5kLGxvYzp7c3RhcnQ6ZS5sb2NhdG9yLmxvY2F0aW9uRm9ySW5kZXgoaS5zdGFydCksZW5kOmUubG9jYXRvci5sb2NhdGlvbkZvckluZGV4KGkuZW5kKX0sLi4uYSYme2V4dHJhOntwYXJlbnRoZXNpemVkOiEwLHBhcmVuU3RhcnQ6bi5zdGFydCxwYXJlbkVuZDpuLmVuZH19fX1mdW5jdGlvbiBOdChzLGUpe3MuZm9yRWFjaCh5KTtsZXRbdF09cyx7a2V5OnJ9PXQsbj1lLnRleHQuc2xpY2UodC5zb3VyY2VTcGFuLnN0YXJ0LHQuc291cmNlU3Bhbi5lbmQpLnRyaW0oKS5sZW5ndGg9PT0wP3Muc2xpY2UoMSk6cyxpPVtdLGE9bnVsbDtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyl7bGV0IHg9bltvXTtpZihhJiZrKGEpJiZDKHgpJiZ4LnZhbHVlJiZ4LnZhbHVlLnNvdXJjZT09PWEua2V5LnNvdXJjZSl7bGV0IHA9ZihcIk5HTWljcm9zeW50YXhLZXlcIix7bmFtZTp4LmtleS5zb3VyY2V9LHgua2V5LnNwYW4pLHU9KE8sdWUpPT4oey4uLk8sLi4uTmUoe3N0YXJ0Ok8uc3RhcnQsZW5kOnVlfSxlKX0pLGc9Tz0+KHsuLi51KE8scC5lbmQpLGFsaWFzOnB9KSxsPWkucG9wKCk7aWYobC50eXBlPT09XCJOR01pY3Jvc3ludGF4RXhwcmVzc2lvblwiKWkucHVzaChnKGwpKTtlbHNlIGlmKGwudHlwZT09PVwiTkdNaWNyb3N5bnRheEtleWVkRXhwcmVzc2lvblwiKXtsZXQgTz1nKGwuZXhwcmVzc2lvbik7aS5wdXNoKHUoey4uLmwsZXhwcmVzc2lvbjpPfSxPLmVuZCkpfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgJHtsLnR5cGV9YCl9ZWxzZSBpLnB1c2goaCh4LG8pKTthPXh9cmV0dXJuIGYoXCJOR01pY3Jvc3ludGF4XCIse2JvZHk6aX0saS5sZW5ndGg9PT0wP3NbMF0uc291cmNlU3Bhbjp7c3RhcnQ6aVswXS5zdGFydCxlbmQ6aVtpLmxlbmd0aC0xXS5lbmR9KTtmdW5jdGlvbiBoKG8seCl7aWYoayhvKSl7bGV0e2tleTpwLHZhbHVlOnV9PW87cmV0dXJuIHU/eD09PTA/ZihcIk5HTWljcm9zeW50YXhFeHByZXNzaW9uXCIse2V4cHJlc3Npb246dih1LmFzdCksYWxpYXM6bnVsbH0sdS5zb3VyY2VTcGFuKTpmKFwiTkdNaWNyb3N5bnRheEtleWVkRXhwcmVzc2lvblwiLHtrZXk6ZihcIk5HTWljcm9zeW50YXhLZXlcIix7bmFtZTp3KHAuc291cmNlKX0scC5zcGFuKSxleHByZXNzaW9uOmYoXCJOR01pY3Jvc3ludGF4RXhwcmVzc2lvblwiLHtleHByZXNzaW9uOnYodS5hc3QpLGFsaWFzOm51bGx9LHUuc291cmNlU3Bhbil9LHtzdGFydDpwLnNwYW4uc3RhcnQsZW5kOnUuc291cmNlU3Bhbi5lbmR9KTpmKFwiTkdNaWNyb3N5bnRheEtleVwiLHtuYW1lOncocC5zb3VyY2UpfSxwLnNwYW4pfWVsc2V7bGV0e2tleTpwLHNvdXJjZVNwYW46dX09bztpZigvXmxldFxccyQvLnRlc3QoZS50ZXh0LnNsaWNlKHUuc3RhcnQsdS5zdGFydCs0KSkpe2xldHt2YWx1ZTpsfT1vO3JldHVybiBmKFwiTkdNaWNyb3N5bnRheExldFwiLHtrZXk6ZihcIk5HTWljcm9zeW50YXhLZXlcIix7bmFtZTpwLnNvdXJjZX0scC5zcGFuKSx2YWx1ZTpsP2YoXCJOR01pY3Jvc3ludGF4S2V5XCIse25hbWU6bC5zb3VyY2V9LGwuc3Bhbik6bnVsbH0se3N0YXJ0OnUuc3RhcnQsZW5kOmw/bC5zcGFuLmVuZDpwLnNwYW4uZW5kfSl9ZWxzZXtsZXQgbD1jKG8pO3JldHVybiBmKFwiTkdNaWNyb3N5bnRheEFzXCIse2tleTpmKFwiTkdNaWNyb3N5bnRheEtleVwiLHtuYW1lOmwuc291cmNlfSxsLnNwYW4pLGFsaWFzOmYoXCJOR01pY3Jvc3ludGF4S2V5XCIse25hbWU6cC5zb3VyY2V9LHAuc3Bhbil9LHtzdGFydDpsLnNwYW4uc3RhcnQsZW5kOnAuc3Bhbi5lbmR9KX19fWZ1bmN0aW9uIHYobyl7cmV0dXJuIHBlKG8sZSl9ZnVuY3Rpb24gZihvLHgscCx1PSEwKXtyZXR1cm57dHlwZTpvLC4uLk5lKHAsZSx1KSwuLi54fX1mdW5jdGlvbiB3KG8pe3JldHVybiBDdChvLnNsaWNlKHIuc291cmNlLmxlbmd0aCkpfWZ1bmN0aW9uIGsobyl7cmV0dXJuIG8gaW5zdGFuY2VvZiBzZX1mdW5jdGlvbiBDKG8pe3JldHVybiBvIGluc3RhbmNlb2YgVH1mdW5jdGlvbiB5KG8pe20oby5rZXkuc3BhbiksQyhvKSYmby52YWx1ZSYmbShvLnZhbHVlLnNwYW4pfWZ1bmN0aW9uIG0obyl7aWYoZS50ZXh0W28uc3RhcnRdIT09J1wiJyYmZS50ZXh0W28uc3RhcnRdIT09XCInXCIpcmV0dXJuO2xldCB4PWUudGV4dFtvLnN0YXJ0XSxwPSExO2ZvcihsZXQgdT1vLnN0YXJ0KzE7dTxlLnRleHQubGVuZ3RoO3UrKylzd2l0Y2goZS50ZXh0W3VdKXtjYXNlIHg6aWYoIXApe28uZW5kPXUrMTtyZXR1cm59ZGVmYXVsdDpwPSExO2JyZWFrO2Nhc2VcIlxcXFxcIjpwPSFwO2JyZWFrfX1mdW5jdGlvbiBjKG8pe2lmKCFvLnZhbHVlfHxvLnZhbHVlLnNvdXJjZSE9PURlKXJldHVybiBvLnZhbHVlO2xldCB4PU9lKC9cXFMvLG8uc291cmNlU3Bhbi5zdGFydCxlLnRleHQpO3JldHVybntzb3VyY2U6XCIkaW1wbGljaXRcIixzcGFuOntzdGFydDp4LGVuZDp4fX19fWZ1bmN0aW9uIFFlKHMsZSl7bGV0e2FzdDp0LGNvbW1lbnRzOnJ9PWUocyksbj1uZXcgbGUocyksaT1oPT5wZShoLG4pLGE9aSh0KTtyZXR1cm4gYS5jb21tZW50cz1yLm1hcChoPT5pKGgpKSxhfWZ1bmN0aW9uIGt0KHMpe3JldHVybiBRZShzLGd0KX1mdW5jdGlvbiBJdChzKXtyZXR1cm4gUWUocyxTdCl9ZnVuY3Rpb24gSGUocyl7cmV0dXJuIFFlKHMsbXQpfWZ1bmN0aW9uIFJ0KHMpe3JldHVybiBOdCh3dChzKSxuZXcgbGUocykpfWZ1bmN0aW9uIGtyKHMpe3JldHVybiBBcnJheS5pc0FycmF5KHMpJiZzLmxlbmd0aD4wfXZhciBQdD1rcjtmdW5jdGlvbiBqZShzKXt2YXIgcjtsZXQgZT1zLnJhbmdlP3MucmFuZ2VbMF06cy5zdGFydCx0PSgocj1zLmRlY2xhcmF0aW9uKT09bnVsbD92b2lkIDA6ci5kZWNvcmF0b3JzKT8/cy5kZWNvcmF0b3JzO3JldHVybiBQdCh0KT9NYXRoLm1pbihqZSh0WzBdKSxlKTplfWZ1bmN0aW9uIEx0KHMpe3JldHVybiBzLnJhbmdlP3MucmFuZ2VbMV06cy5lbmR9ZnVuY3Rpb24ga2Uocyl7cmV0dXJue2FzdEZvcm1hdDpcImVzdHJlZVwiLHBhcnNlKGUpe2xldCB0PXMoZSk7cmV0dXJue3R5cGU6XCJOR1Jvb3RcIixub2RlOnM9PT1IZSYmdC50eXBlIT09XCJOR0NoYWluZWRFeHByZXNzaW9uXCI/ey4uLnQsdHlwZTpcIk5HQ2hhaW5lZEV4cHJlc3Npb25cIixleHByZXNzaW9uczpbdF19OnR9fSxsb2NTdGFydDpqZSxsb2NFbmQ6THR9fXZhciBJcj1rZShIZSksUnI9a2Uoa3QpLFByPWtlKEl0KSxMcj1rZShSdCk7dmFyIGZzPXplO2V4cG9ydHtmcyBhcyBkZWZhdWx0LEllIGFzIHBhcnNlcnN9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9